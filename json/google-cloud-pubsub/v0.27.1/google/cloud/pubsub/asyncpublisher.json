{"id":"google/cloud/pubsub/asyncpublisher","name":"AsyncPublisher","title":["Google","Cloud","Pubsub","AsyncPublisher"],"description":"<p>Used to publish multiple messages in batches to a topic. See\nGoogle::Cloud::Pubsub::Topic#async_publisher</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L59","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/pubsub\"\n\npubsub = Google::Cloud::Pubsub.new\n\ntopic = pubsub.topic \"my-topic\"\ntopic.publish_async \"task completed\" do |result|\n  if result.succeeded?\n    log_publish_success result.data\n  else\n    log_publish_failure result.data, result.error\n  end\nend\n\ntopic.async_publisher.stop.wait!"}],"methods":[{"id":"topic_name-instance","type":"instance","name":"topic_name","title":["Google","Cloud","Pubsub","AsyncPublisher#topic_name"],"description":"<p>The name of the topic the messages\nare published to. In the form of\n“/projects/project-identifier/topics/topic-name”.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"the current value of topic_name"}]},{"id":"max_bytes-instance","type":"instance","name":"max_bytes","title":["Google","Cloud","Pubsub","AsyncPublisher#max_bytes"],"description":"<p>The maximum size of messages to be\ncollected before the batch is published. Default is 10,000,000\n(10MB).</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"the current value of max_bytes"}]},{"id":"max_messages-instance","type":"instance","name":"max_messages","title":["Google","Cloud","Pubsub","AsyncPublisher#max_messages"],"description":"<p>The maximum number of messages to\nbe collected before the batch is published. Default is 1,000.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"the current value of max_messages"}]},{"id":"interval-instance","type":"instance","name":"interval","title":["Google","Cloud","Pubsub","AsyncPublisher#interval"],"description":"<p>The number of seconds to collect\nmessages before the batch is published. Default is 0.25.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Numeric"],"description":"the current value of interval"}]},{"id":"publish_threads-instance","type":"instance","name":"publish_threads","title":["Google","Cloud","Pubsub","AsyncPublisher#publish_threads"],"description":"<p>The number of threads used to\npublish messages. Default is 4.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Numeric"],"description":"the current value of publish_threads"}]},{"id":"callback_threads-instance","type":"instance","name":"callback_threads","title":["Google","Cloud","Pubsub","AsyncPublisher#callback_threads"],"description":"<p>The number of threads to\nhandle the published messages’ callbacks. Default is 8.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Numeric"],"description":"the current value of callback_threads"}]},{"id":"publish-instance","type":"instance","name":"publish","title":["Google","Cloud","Pubsub","AsyncPublisher#publish"],"description":"<p>Add a message to the async publisher to be published to the topic.\nMessages will be collected in batches and published together.\nSee Google::Cloud::Pubsub::Topic#publish_async</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L92","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"stop-instance","type":"instance","name":"stop","title":["Google","Cloud","Pubsub","AsyncPublisher#stop"],"description":"<p>Begins the process of stopping the publisher. Messages already in\nthe queue will be published, but no new messages can be added. Use\n<a data-custom-type=\"google/cloud/pubsub/asyncpublisher\" data-method=\"wait!-instance\">#wait!</a> to block until the publisher is fully stopped and all\npending messages have been published.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L125","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/pubsub/asyncpublisher\">AsyncPublisher</a>"],"description":"returns self so calls can be chained."}]},{"id":"wait!-instance","type":"instance","name":"wait!","title":["Google","Cloud","Pubsub","AsyncPublisher#wait!"],"description":"<p>Blocks until the publisher is fully stopped, all pending messages\nhave been published, and all callbacks have completed. Does not stop\nthe publisher. To stop the publisher, first call <a data-custom-type=\"google/cloud/pubsub/asyncpublisher\" data-method=\"stop-instance\">#stop</a> and then\ncall <a data-custom-type=\"google/cloud/pubsub/asyncpublisher\" data-method=\"wait!-instance\">#wait!</a> to block until the publisher is stopped.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L145","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/pubsub/asyncpublisher\">AsyncPublisher</a>"],"description":"returns self so calls can be chained."}]},{"id":"flush-instance","type":"instance","name":"flush","title":["Google","Cloud","Pubsub","AsyncPublisher#flush"],"description":"<p>Forces all messages in the current batch to be published\nimmediately.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L165","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/pubsub/asyncpublisher\">AsyncPublisher</a>"],"description":"returns self so calls can be chained."}]},{"id":"started?-instance","type":"instance","name":"started?","title":["Google","Cloud","Pubsub","AsyncPublisher#started?"],"description":"<p>Whether the publisher has been started.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L178","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["boolean"],"description":"<code>true</code> when started, <code>false</code> otherwise."}]},{"id":"stopped?-instance","type":"instance","name":"stopped?","title":["Google","Cloud","Pubsub","AsyncPublisher#stopped?"],"description":"<p>Whether the publisher has been stopped.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/async_publisher.rb#L186","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["boolean"],"description":"<code>true</code> when stopped, <code>false</code> otherwise."}]}]}