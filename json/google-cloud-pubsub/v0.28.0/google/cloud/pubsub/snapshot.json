{"id":"google/cloud/pubsub/snapshot","name":"Snapshot","title":["Google","Cloud","Pubsub","Snapshot"],"description":"<h1 id=\"snapshot\">Snapshot</h1>\n\n<p>A named resource created from a subscription to retain a stream of\nmessages from a topic. A snapshot is guaranteed to retain:</p>\n\n<ul>\n  <li>The existing backlog on the subscription. More precisely, this is\ndefined as the messages in the subscription’s backlog that are\nunacknowledged upon the successful completion of the\n<code>create_snapshot</code> operation; as well as:</li>\n  <li>Any messages published to the subscription’s topic following the\nsuccessful completion of the <code>create_snapshot</code> operation.</li>\n</ul>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/snapshot.rb#L44","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/pubsub\"\n\npubsub = Google::Cloud::Pubsub.new\nsub = pubsub.subscription \"my-sub\"\n\nsnapshot = sub.create_snapshot \"my-snapshot\"\nsnapshot.name #=> \"projects/my-project/snapshots/my-snapshot\""}],"methods":[{"id":"name-instance","type":"instance","name":"name","title":["Google","Cloud","Pubsub","Snapshot#name"],"description":"<p>The name of the snapshot. Format is\n<code>projects/{project}/snapshots/{snap}</code>.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/snapshot.rb#L63","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"topic-instance","type":"instance","name":"topic","title":["Google","Cloud","Pubsub","Snapshot#topic"],"description":"<p>The <a data-custom-type=\"google/cloud/pubsub/topic\">Topic</a> from which this snapshot is retaining messages.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/snapshot.rb#L81","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/pubsub\"\n\npubsub = Google::Cloud::Pubsub.new\nsub = pubsub.subscription \"my-sub\"\n\nsnapshot = sub.create_snapshot \"my-snapshot\"\nsnapshot.topic.name #=> \"projects/my-project/topics/my-topic\""}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/pubsub/topic\">Topic</a>"],"description":""}]},{"id":"expiration_time-instance","type":"instance","name":"expiration_time","title":["Google","Cloud","Pubsub","Snapshot#expiration_time"],"description":"<p>The snapshot is guaranteed to exist up until this time.\nA newly-created snapshot expires no later than 7 days from the time of\nits creation. Its exact lifetime is determined at creation by the\nexisting backlog in the source subscription. Specifically, the\nlifetime of the snapshot is 7 days - (age of oldest unacked message in\nthe subscription). For example, consider a subscription whose oldest\nunacked message is 3 days old. If a snapshot is created from this\nsubscription, the snapshot – which will always capture this 3-day-old\nbacklog as long as the snapshot exists – will expire in 4 days.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/snapshot.rb#L109","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/pubsub\"\n\npubsub = Google::Cloud::Pubsub.new\nsub = pubsub.subscription \"my-sub\"\n\nsnapshot = sub.create_snapshot \"my-snapshot\"\nsnapshot.topic.name #=> \"projects/my-project/topics/my-topic\"\nsnapshot.expiration_time"}],"params":[],"exceptions":[],"returns":[{"types":["Time"],"description":"The time until which the snapshot is guaranteed to\nexist."}]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Pubsub","Snapshot#delete"],"description":"<p>Removes an existing snapshot. All messages retained in the snapshot\nare immediately dropped. After a snapshot is deleted, a new one may be\ncreated with the same name, but the new one has no association with\nthe old snapshot or its subscription, unless the same subscription is\nspecified.</p>","source":"google-cloud-pubsub/lib/google/cloud/pubsub/snapshot.rb#L131","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/pubsub\"\n\npubsub = Google::Cloud::Pubsub.new\n\npubsub.snapshots.each do |snapshot|\n  snapshot.delete\nend"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the snapshot was deleted."}]}]}