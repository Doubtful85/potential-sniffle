{"id":"google/cloud/spanner/project","name":"Project","title":["Google","Cloud","Spanner","Project"],"description":"<h1 id=\"project\">Project</h1>\n\n<p>Projects are top-level containers in Google Cloud Platform. They store\ninformation about billing and authorized users, and they contain\nCloud Spanner data. Each project has a friendly name and a unique ID.</p>\n\n<p>Google::Cloud::Spanner::Project is the main object for interacting with\nCloud Spanner.</p>\n\n<p><a data-custom-type=\"google/cloud/spanner/instance\">Google::Cloud::Spanner::Instance</a> and\n<a data-custom-type=\"google/cloud/spanner/database\">Google::Cloud::Spanner::Database</a> objects are created,\naccessed, and managed by Google::Cloud::Spanner::Project.</p>\n\n<p>A <a data-custom-type=\"google/cloud/spanner/client\">Google::Cloud::Spanner::Client</a> obtained from a project can be used\nto read and/or modify data in a Cloud Spanner database.</p>\n\n<p>See Google::Cloud::Spanner.new and Google::Cloud#spanner.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L68","resources":[],"examples":[{"caption":"<p>Obtaining an instance and a database from a project.</p>","code":"require \"google/cloud\"\n\nspanner = Google::Cloud::Spanner.new\ninstance = spanner.instance \"my-instance\"\ndatabase = instance.database \"my-database\""},{"caption":"<p>Obtaining a client for use with a database.</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndb = spanner.client \"my-instance\", \"my-database\"\n\ndb.transaction do |tx|\n  results = tx.execute \"SELECT * FROM users\"\n\n  results.rows.each do |row|\n    puts \"User #{row[:id]} is #{row[:name]}\"\n  end\nend"}],"methods":[{"id":"project-instance","type":"instance","name":"project","title":["Google","Cloud","Spanner","Project#project"],"description":"<p>The identifier for the Cloud Spanner project.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L92","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\nspanner = Google::Cloud::Spanner.new(\n  project: \"my-project-id\",\n  keyfile: \"/path/to/keyfile.json\"\n)\n\nspanner.project #=> \"my-project-id\""}],"params":[],"exceptions":[],"returns":[]},{"id":"instances-instance","type":"instance","name":"instances","title":["Google","Cloud","Spanner","Project#instances"],"description":"<p>Retrieves the list of Cloud Spanner instances for the project.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L137","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ninstances = spanner.instances\ninstances.each do |instance|\n  puts instance.instance_id\nend"},{"caption":"<p>Retrieve all: (See Instance::Config::List::List#all)</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ninstances = spanner.instances\ninstances.all do |instance|\n  puts instance.instance_id\nend"}],"params":[{"name":"token","types":["String"],"description":"The <code>token</code> value returned by the last call to\n<code>instances</code>; indicates that this is a continuation of a call,\nand that the system should return the next page of data.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of instances to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/spanner/instance\">Google::Cloud::Spanner::Instance</a>&gt;"],"description":"The list of\ninstances. (See <a data-custom-type=\"google/cloud/spanner/instance/list\">Google::Cloud::Spanner::Instance::List</a>)"}]},{"id":"instance-instance","type":"instance","name":"instance","title":["Google","Cloud","Spanner","Project#instance"],"description":"<p>Retrieves a Cloud Spanner instance by unique identifier.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L163","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\ninstance = spanner.instance \"my-instance\""},{"caption":"<p>Will return <code>nil</code> if instance does not exist.</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\ninstance = spanner.instance \"non-existing\" # nil"}],"params":[{"name":"instance_id","types":["String"],"description":"The unique identifier for the instance.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/instance\">Google::Cloud::Spanner::Instance</a>","nil"],"description":"The instance, or <code>nil</code>\nif the instance does not exist."}]},{"id":"create_instance-instance","type":"instance","name":"create_instance","title":["Google","Cloud","Spanner","Project#create_instance"],"description":"<p>Creates a Cloud Spanner instance and starts preparing it to begin\nserving.</p>\n\n<p>See <a data-custom-type=\"google/cloud/spanner/instance/job\">Instance::Job</a>.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L223","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\njob = spanner.create_instance \"my-new-instance\",\n                              name: \"My New Instance\",\n                              config: \"regional-us-central1\",\n                              nodes: 5,\n                              labels: { production: :env }\n\njob.done? #=> false\njob.reload! # API call\njob.done? #=> true\ninstance = job.instance"}],"params":[{"name":"instance_id","types":["String"],"description":"The unique identifier for the instance,\nwhich cannot be changed after the instance is created. Values are of\nthe form <code>[a-z][-a-z0-9]*[a-z0-9]</code> and must be between 6 and 30\ncharacters in length. Required.","optional":false,"nullable":false},{"name":"name","types":["String"],"description":"The descriptive name for this instance as it\nappears in UIs. Must be unique per project and between 4 and 30\ncharacters in length. Required.","optional":true,"default":"nil","nullable":true},{"name":"config","types":["String","Instance::Config"],"description":"The name of the instance’s\nconfiguration. Values can be the <code>instance_config_id</code>, the full\npath, or an <a data-custom-type=\"google/cloud/spanner/instance/config\">Instance::Config</a> object. Required.","optional":true,"default":"nil","nullable":true},{"name":"nodes","types":["Integer"],"description":"The number of nodes allocated to this instance.\nRequired.","optional":true,"default":"nil","nullable":true},{"name":"labels","types":["Hash"],"description":"Cloud Labels are a flexible and lightweight\nmechanism for organizing cloud resources into groups that reflect a\ncustomer’s organizational needs and deployment strategies. Cloud\nLabels can be used to filter collections of resources. They can be\nused to control how resource metrics are aggregated. And they can be\nused as arguments to policy management rules (e.g. route, firewall,\nload balancing, etc.).</p>\n\n<ul>\n  <li>Label keys must be between 1 and 63 characters long and must\nconform to the following regular expression:\n<code>[a-z]([-a-z0-9]*[a-z0-9])?</code>.</li>\n  <li>Label values must be between 0 and 63 characters long and must\nconform to the regular expression <code>([a-z]([-a-z0-9]*[a-z0-9])?)?</code>.</li>\n  <li>No more than 64 labels can be associated with a given resource.</li>\n</ul>","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/instance/job\">Instance::Job</a>"],"description":"The job representing the long-running,\nasynchronous processing of an instance create operation."}]},{"id":"instance_configs-instance","type":"instance","name":"instance_configs","title":["Google","Cloud","Spanner","Project#instance_configs"],"description":"<p>Retrieves the list of instance configurations for the project.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L264","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ninstance_configs = spanner.instance_configs\ninstance_configs.each do |config|\n  puts config.instance_config_id\nend"},{"caption":"<p>Retrieve all: (See Instance::Config::List::List#all)</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ninstance_configs = spanner.instance_configs\ninstance_configs.all do |config|\n  puts config.instance_config_id\nend"}],"params":[{"name":"token","types":["String"],"description":"The <code>token</code> value returned by the last call to\n<code>instance_configs</code>; indicates that this is a continuation of a call,\nand that the system should return the next page of data.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of instance configs to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/spanner/instance/config\">Google::Cloud::Spanner::Instance::Config</a>&gt;"],"description":"The list of\ninstance configurations. (See\n<a data-custom-type=\"google/cloud/spanner/instance/config/list\">Google::Cloud::Spanner::Instance::Config::List</a>)"}]},{"id":"instance_config-instance","type":"instance","name":"instance_config","title":["Google","Cloud","Spanner","Project#instance_config"],"description":"<p>Retrieves an instance configuration by unique identifier.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L293","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\nconfig = spanner.instance_config \"regional-us-central1\""},{"caption":"<p>Will return <code>nil</code> if instance config does not exist.</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\nconfig = spanner.instance_config \"non-existing\" # nil"}],"params":[{"name":"instance_config_id","types":["String"],"description":"The instance configuration\nidentifier. Values can be the <code>instance_config_id</code>, or the full\npath.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/instance/config\">Google::Cloud::Spanner::Instance::Config</a>","nil"],"description":"The instance\nconfiguration, or <code>nil</code> if the instance configuration does not\nexist."}]},{"id":"databases-instance","type":"instance","name":"databases","title":["Google","Cloud","Spanner","Project#databases"],"description":"<p>Retrieves the list of databases for the project.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L333","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndatabases = spanner.databases \"my-instance\"\ndatabases.each do |database|\n  puts database.database_id\nend"},{"caption":"<p>Retrieve all: (See Instance::Config::List::List#all)</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndatabases = spanner.databases \"my-instance\"\ndatabases.all do |database|\n  puts database.database_id\nend"}],"params":[{"name":"instance_id","types":["String"],"description":"The unique identifier for the instance.","optional":false,"nullable":false},{"name":"token","types":["String"],"description":"The <code>token</code> value returned by the last call to\n<code>databases</code>; indicates that this is a continuation of a call,\nand that the system should return the next page of data.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of databases to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/spanner/database\">Google::Cloud::Spanner::Database</a>&gt;"],"description":"The list of\ndatabases. (See <a data-custom-type=\"google/cloud/spanner/database/list\">Google::Cloud::Spanner::Database::List</a>)"}]},{"id":"database-instance","type":"instance","name":"database","title":["Google","Cloud","Spanner","Project#database"],"description":"<p>Retrieves a database by unique identifier.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L360","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\ndatabase = spanner.database \"my-instance\", \"my-database\""},{"caption":"<p>Will return <code>nil</code> if instance does not exist.</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\ndatabase = spanner.database \"my-instance\", \"my-database\" # nil"}],"params":[{"name":"instance_id","types":["String"],"description":"The unique identifier for the instance.","optional":false,"nullable":false},{"name":"database_id","types":["String"],"description":"The unique identifier for the database.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/database\">Google::Cloud::Spanner::Database</a>","nil"],"description":"The database, or <code>nil</code>\nif the database does not exist."}]},{"id":"create_database-instance","type":"instance","name":"create_database","title":["Google","Cloud","Spanner","Project#create_database"],"description":"<p>Creates a database and starts preparing it to begin serving.</p>\n\n<p>See <a data-custom-type=\"google/cloud/spanner/database/job\">Database::Job</a>.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L401","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\njob = spanner.create_database \"my-instance\",\n                              \"my-new-database\"\n\njob.done? #=> false\njob.reload! # API call\njob.done? #=> true\ndatabase = job.database"}],"params":[{"name":"instance_id","types":["String"],"description":"The unique identifier for the instance.\nRequired.","optional":false,"nullable":false},{"name":"database_id","types":["String"],"description":"The unique identifier for the database,\nwhich cannot be changed after the database is created. Values are of\nthe form <code>[a-z][a-z0-9_\\-]*[a-z0-9]</code> and must be between 2 and 30\ncharacters in length. Required.","optional":false,"nullable":false},{"name":"statements","types":["Array<String>"],"description":"DDL statements to run inside the\nnewly created database. Statements can create tables, indexes, etc.\nThese statements execute atomically with the creation of the\ndatabase: if there is an error in any statement, the database is not\ncreated. Optional.","optional":true,"default":"[]","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/database/job\">Database::Job</a>"],"description":"The job representing the long-running,\nasynchronous processing of a database create operation."}]},{"id":"client-instance","type":"instance","name":"client","title":["Google","Cloud","Spanner","Project#client"],"description":"<p>Creates a Cloud Spanner client. A client is used to read and/or modify\ndata in a Cloud Spanner database.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/project.rb#L455","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndb = spanner.client \"my-instance\", \"my-database\"\n\ndb.transaction do |tx|\n  results = tx.execute \"SELECT * FROM users\"\n\n  results.rows.each do |row|\n    puts \"User #{row[:id]} is #{row[:name]}\"\n  end\nend"}],"params":[{"name":"instance_id","types":["String"],"description":"The unique identifier for the instance.\nRequired.","optional":false,"nullable":false},{"name":"database_id","types":["String"],"description":"The unique identifier for the database.\nRequired.","optional":false,"nullable":false},{"name":"pool","types":["Hash"],"description":"Settings to control how and when sessions are\nmanaged by the client. The following settings can be provided:</p>\n\n<ul>\n  <li><code>:min</code> (Integer) Minimum number of sessions that the client will\nmaintain at any point in time. The default is 10.</li>\n  <li><code>:max</code> (Integer) Maximum number of sessions that the client will\nhave at any point in time. The default is 100.</li>\n  <li><code>:keepalive</code> (Numeric) The amount of time a session can be idle\nbefore an attempt is made to prevent the idle sessions from being\nclosed by the Cloud Spanner service. The default is 1800 (30\nminutes).</li>\n  <li><code>:write_ratio</code> (Float) The ratio of sessions with pre-allocated\ntransactions to those without. Pre-allocating transactions\nimproves the performance of writes made by the client. The higher\nthe value, the more transactions are pre-allocated. The value must\nbe &gt;= 0 and &lt;= 1. The default is 0.3.</li>\n  <li><code>:fail</code> (true/false) When <code>true</code> the client raises a\n<a data-custom-type=\"google/cloud/spanner/sessionlimiterror\">SessionLimitError</a> when the client has allocated the <code>max</code> number\nof sessions. When <code>false</code> the client blocks until a session\nbecomes available. The default is <code>true</code>.</li>\n  <li><code>:threads</code> (Integer) The number of threads in the thread pool. The\ndefault is twice the number of available CPUs.</li>\n</ul>","optional":true,"default":"{}","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/client\">Client</a>"],"description":"The newly created client."}]}]}