{"id":"google/cloud/spanner/fields","name":"Fields","title":["Google","Cloud","Spanner","Fields"],"description":"<h1 id=\"fields\">Fields</h1>\n\n<p>Represents the field names and types of data returned by Cloud Spanner.</p>\n\n<p>See <a href=\"https://cloud.google.com/spanner/docs/data-definition-language#data_types\">Data\ntypes</a>.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L42","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndb = spanner.client \"my-instance\", \"my-database\"\n\nresults = db.execute \"SELECT * FROM users\"\n\nresults.fields.pairs.each do |name, type|\n  puts \"Column #{name} is type #{type}\"\nend"}],"methods":[{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","Spanner","Fields#initialize"],"description":"<p>Creates <a data-custom-type=\"google/cloud/spanner/fields\">Fields</a> object from types. See <a data-custom-type=\"google/cloud/spanner/client\" data-method=\"fields-instance\">Client#fields</a>.</p>\n\n<p>This object can be used to create <a data-custom-type=\"google/cloud/spanner/data\">Data</a> objects by providing values\nthat match the field types. See <a data-custom-type=\"google/cloud/spanner/fields\" data-method=\"struct-instance\">Fields#struct</a>.</p>\n\n<p>See <a href=\"https://cloud.google.com/spanner/docs/data-types#constructing-a-struct\">Data Types - Constructing a\nSTRUCT</a>.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L103","resources":[],"examples":[{"caption":"<p>Create a STRUCT value with named fields using Fields object:</p>","code":"require \"google/cloud/spanner\"\n\nnamed_type = Google::Cloud::Spanner::Fields.new(\n  { id: :INT64, name: :STRING, active: :BOOL }\n)\nnamed_data = named_type.struct(\n  { id: 42, name: nil, active: false }\n)"},{"caption":"<p>Create a STRUCT value with anonymous field names:</p>","code":"require \"google/cloud/spanner\"\n\nanon_type = Google::Cloud::Spanner::Fields.new(\n  [:INT64, :STRING, :BOOL]\n)\nanon_data = anon_type.struct [42, nil, false]"},{"caption":"<p>Create a STRUCT value with duplicate field names:</p>","code":"require \"google/cloud/spanner\"\n\ndup_type = Google::Cloud::Spanner::Fields.new(\n  [[:x, :INT64], [:x, :STRING], [:x, :BOOL]]\n)\ndup_data = dup_type.struct [42, nil, false]"}],"params":[{"name":"types","types":["Array","Hash"],"description":"Accepts an array or hash types.</p>\n\n<p>Arrays can contain just the type value, or a sub-array of the\nfield’s name and type value. Hash keys must contain the field name\nas a <code>Symbol</code> or <code>String</code>, or the field position as an <code>Integer</code>.\nHash values must contain the type value. If a Hash is used the\nfields will be created using the same order as the Hash keys.</p>\n\n<p>Supported type values incude:</p>\n\n<ul>\n  <li><code>:BOOL</code></li>\n  <li><code>:BYTES</code></li>\n  <li><code>:DATE</code></li>\n  <li><code>:FLOAT64</code></li>\n  <li><code>:INT64</code></li>\n  <li><code>:STRING</code></li>\n  <li><code>:TIMESTAMP</code></li>\n  <li><code>Array</code> - Lists are specified by providing the type code in an\narray. For example, an array of integers are specified as\n<code>[:INT64]</code>.</li>\n  <li><a data-custom-type=\"google/cloud/spanner/fields\">Fields</a> - Nested Structs are specified by providing a Fields\nobject.</li>\n</ul>","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/fields\">Fields</a>"],"description":"The fields of the given types."}]},{"id":"types-instance","type":"instance","name":"types","title":["Google","Cloud","Spanner","Fields#types"],"description":"<p>Returns the types of the data.</p>\n\n<p>See <a href=\"https://cloud.google.com/spanner/docs/data-definition-language#data_types\">Data\ntypes</a>.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L134","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;Symbol&gt;"],"description":"An array containing the types of the data."}]},{"id":"keys-instance","type":"instance","name":"keys","title":["Google","Cloud","Spanner","Fields#keys"],"description":"<p>Returns the names of the data values, or in cases in which values are\nunnamed, the zero-based index position of values.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L158","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;(String,Integer)&gt;"],"description":"An array containing the names\n(String) or position (Integer) for the corresponding values of the\ndata."}]},{"id":"duplicate_names?-instance","type":"instance","name":"duplicate_names?","title":["Google","Cloud","Spanner","Fields#duplicate_names?"],"description":"<p>Detects duplicate names in the keys for the fields.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L173","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if there are duplicate names."}]},{"id":"pairs-instance","type":"instance","name":"pairs","title":["Google","Cloud","Spanner","Fields#pairs"],"description":"<p>Returns the names or positions and their corresponding types as an\narray of arrays.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L184","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;Array&gt;"],"description":"An array containing name/position and types\npairs."}]},{"id":"[]-instance","type":"instance","name":"[]","title":["Google","Cloud","Spanner","Fields#[]"],"description":"<p>Returns the type code for the provided name (String) or index\n(Integer). Do not pass a name to this method if the data has more than\none member with the same name. (See <a data-custom-type=\"google/cloud/spanner/fields\" data-method=\"duplicate_names?-instance\">#duplicate_names?</a>)</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L201","resources":[],"examples":[],"params":[{"name":"key","types":["String","Integer"],"description":"The name (String) or zero-based index\nposition (Integer) of the value.","optional":false,"nullable":false}],"exceptions":[{"type":"Google::Cloud::Spanner::DuplicateNameError","description":"if the data\ncontains duplicate names."}],"returns":[{"types":["Symbol","nil"],"description":"The type code, or nil if no value is found."}]},{"id":"struct-instance","type":"instance","name":"struct","title":["Google","Cloud","Spanner","Fields#struct"],"description":"<p>Creates a new <a data-custom-type=\"google/cloud/spanner/data\">Data</a> object given the data values matching the fields.\nCan be provided as either an Array of values, or a Hash where the hash\nkeys match the field name or match the index position of the field.</p>\n\n<p>For more information, see <a href=\"https://cloud.google.com/spanner/docs/data-types#constructing-a-struct\">Data Types - Constructing a\nSTRUCT</a>.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L268","resources":[],"examples":[{"caption":"<p>Create a STRUCT value with named fields using Fields object:</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndb = spanner.client \"my-instance\", \"my-database\"\n\nnamed_type = db.fields(\n  { id: :INT64, name: :STRING, active: :BOOL }\n)\nnamed_data = named_type.struct(\n  { id: 42, name: nil, active: false }\n)"},{"caption":"<p>Create a STRUCT value with anonymous field names:</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndb = spanner.client \"my-instance\", \"my-database\"\n\nanon_type = db.fields [:INT64, :STRING, :BOOL]\nanon_data = anon_type.struct [42, nil, false]"},{"caption":"<p>Create a STRUCT value with duplicate field names:</p>","code":"require \"google/cloud/spanner\"\n\nspanner = Google::Cloud::Spanner.new\n\ndb = spanner.client \"my-instance\", \"my-database\"\n\ndup_type = db.fields [[:x, :INT64], [:x, :STRING], [:x, :BOOL]]\ndup_data = dup_type.struct [42, nil, false]"}],"params":[{"name":"data","types":["Array","Hash"],"description":"Accepts an array or hash data values.</p>\n\n<p>Arrays can contain just the data value, nested arrays will be\ntreated as lists of values. Values must be provided in the same\norder as the fields, and there is no way to associate values to the\nfield names.</p>\n\n<p>Hash keys must contain the field name as a <code>Symbol</code> or <code>String</code>, or\nthe field position as an <code>Integer</code>. Hash values must contain the\ndata value. Hash values will be matched to the fields, so they don’t\nneed to match the same order as the fields.","optional":false,"nullable":false}],"exceptions":[{"type":"ArgumentError","description":""}],"returns":[{"types":["<a data-custom-type=\"google/cloud/spanner/data\">Data</a>"],"description":"A new Data object."}]},{"id":"to_a-instance","type":"instance","name":"to_a","title":["Google","Cloud","Spanner","Fields#to_a"],"description":"<p>Returns the type codes as an array. Do not use this method if the data\nhas more than one member with the same name. (See <a data-custom-type=\"google/cloud/spanner/fields\" data-method=\"duplicate_names?-instance\">#duplicate_names?</a>)</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L316","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;Symbol|Array&lt;Symbol&gt;|<a data-custom-type=\"google/cloud/spanner/fields\">Fields</a>|Array&lt;<a data-custom-type=\"google/cloud/spanner/fields\">Fields</a>&gt;&gt;"],"description":"An array\ncontaining the type codes."}]},{"id":"to_h-instance","type":"instance","name":"to_h","title":["Google","Cloud","Spanner","Fields#to_h"],"description":"<p>Returns the names or indexes and corresponding type codes as a hash.</p>","source":"google-cloud-spanner/lib/google/cloud/spanner/fields.rb#L330","resources":[],"examples":[],"params":[],"exceptions":[{"type":"Google::Cloud::Spanner::DuplicateNameError","description":"if the data\ncontains duplicate names."}],"returns":[{"types":["Hash&lt;(Symbol|Integer) =&gt;\n(Symbol|Array&lt;Symbol&gt;|<a data-custom-type=\"google/cloud/spanner/fields\">Fields</a>|Array&lt;<a data-custom-type=\"google/cloud/spanner/fields\">Fields</a>&gt;)] A <a data-custom-type=\"google/cloud/spanner/fields\" data-method=\"hash-instance\">hash</a> containing the\nnames or indexes and corresponding <a data-custom-type=\"google/cloud/spanner/fields\" data-method=\"types-instance\">types</a>."],"description":"Hash&lt;(Symbol|Integer) =&gt;\n(Symbol|Array<Symbol>|Fields|Array<Fields>)] A hash containing the\nnames or indexes and corresponding types.</Fields></Symbol>"}]}]}