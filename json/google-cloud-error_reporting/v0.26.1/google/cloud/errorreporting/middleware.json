{"id":"google/cloud/errorreporting/middleware","name":"Middleware","title":["Google","Cloud","ErrorReporting","Middleware"],"description":"<h1 id=\"middleware\">Middleware</h1>\n\n<p>Google::Cloud::ErrorReporting::Middleware defines a Rack Middleware\nthat can automatically catch upstream exceptions and report them\nto Stackdriver Error Reporting.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L26","resources":[],"examples":[],"methods":[{"id":"error_reporting-instance","type":"instance","name":"error_reporting","title":["Google","Cloud","ErrorReporting","Middleware#error_reporting"],"description":"<p>A Google::Cloud::ErrorReporting::Project client used to report\nerror events.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L29","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","ErrorReporting","Middleware#initialize"],"description":"<p>Construct a new instance of Middleware.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L46","resources":[],"examples":[],"params":[{"name":"app","types":["Rack::Application"],"description":"The Rack application","optional":false,"nullable":false},{"name":"error_reporting","types":["Google::Cloud::ErrorReporting::Project"],"description":"A\nGoogle::Cloud::ErrorReporting::Project client for reporting\nexceptions","optional":true,"default":"nil","nullable":true},{"name":"*kwargs","types":["Hash"],"description":"Hash of configuration settings. Used for\nbackward API compatibility. See the <a href=\"https://googlecloudplatform.github.io/google-cloud-ruby/#/docs/stackdriver/guides/instrumentation_configuration\">Configuration\nGuide</a>\nfor the prefered way to set configuration parameters.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/errorreporting/middleware\">Google::Cloud::ErrorReporting::Middleware</a>"],"description":"A new instance of\nMiddleware"}]},{"id":"call-instance","type":"instance","name":"call","title":["Google","Cloud","ErrorReporting","Middleware#call"],"description":"<p>Implements the mandatory Rack Middleware call method.</p>\n\n<p>Catch all Exceptions from upstream and report them to Stackdriver\nError Reporting. Unless the exception’s class is defined to be ignored\nby this Middleware.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L74","resources":[],"examples":[],"params":[{"name":"env","types":["Hash"],"description":"Rack environment hash","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"report_exception-instance","type":"instance","name":"report_exception","title":["Google","Cloud","ErrorReporting","Middleware#report_exception"],"description":"<p>Report an given exception to Stackdriver Error Reporting.</p>\n\n<p>While it reports most of the exceptions. Certain Rails exceptions that\nmaps to a HTTP status code less than 500 will be treated as not the\napp fault and ignored.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L101","resources":[],"examples":[],"params":[{"name":"env","types":["Hash"],"description":"Rack environment hash","optional":false,"nullable":false},{"name":"exception","types":["Exception"],"description":"The Ruby exception to report.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"error_event_from_exception-instance","type":"instance","name":"error_event_from_exception","title":["Google","Cloud","ErrorReporting","Middleware#error_event_from_exception"],"description":"<p>Creates a <a data-custom-type=\"google/cloud/errorreporting/errorevent\">Google::Cloud::ErrorReporting::ErrorEvent</a> based on the\nexception. Fill in the HttpRequestContext section of the ErrorEvent\nbased on the HTTP Request headers.</p>\n\n<p>When used in Rails environment. It replies on\nActionDispatch::ExceptionWrapper class to derive a HTTP status code\nbased on the exception’s class.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L130","resources":[],"examples":[],"params":[{"name":"env","types":["Hash"],"description":"Rack environment hash","optional":false,"nullable":false},{"name":"exception","types":["Exception"],"description":"Exception to convert from","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/errorreporting/errorevent\">Google::Cloud::ErrorReporting::ErrorEvent</a>"],"description":"The gRPC\nErrorEvent object that’s based on given env and exception"}]}]}