{"id":"google/cloud/storage/notification","name":"Notification","title":["Google","Cloud","Storage","Notification"],"description":"<h1 id=\"notification\">Notification</h1>\n\n<p>Represents a Pub/Sub notification subscription for a Cloud Storage\nbucket.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L50","resources":[{"title":"Cloud\nPub/Sub Notifications for Google Cloud","link":"https://cloud.google.com/storage/docs/pubsub-notifications"}],"examples":[{"caption":"","code":"require \"google/cloud/pubsub\"\nrequire \"google/cloud/storage\"\n\npubsub = Google::Cloud::Pubsub.new\ntopic = pubsub.create_topic \"my-topic\"\ntopic.policy do |p|\n  p.add \"roles/pubsub.publisher\",\n        \"serviceAccount:my-project\" \\\n        \"@gs-project-accounts.iam.gserviceaccount.com\"\nend\n\nstorage = Google::Cloud::Storage.new\nbucket = storage.bucket \"my-bucket\"\n\nnotification = bucket.create_notification topic.name"}],"methods":[{"id":"bucket=-instance","type":"instance","name":"bucket=","title":["Google","Cloud","Storage","Notification#bucket="],"description":"<p>The name of the <a data-custom-type=\"google/cloud/storage/bucket\">Bucket</a> to which this\nnotification belongs.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L50","resources":[],"examples":[],"params":[{"name":"value","types":["String"],"description":"the value to set the attribute bucket to.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["String"],"description":"the newly set value"}]},{"id":"bucket-instance","type":"instance","name":"bucket","title":["Google","Cloud","Storage","Notification#bucket"],"description":"<p>The name of the <a data-custom-type=\"google/cloud/storage/bucket\">Bucket</a> to which this\nnotification belongs.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L50","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"the current value of bucket"}]},{"id":"kind-instance","type":"instance","name":"kind","title":["Google","Cloud","Storage","Notification#kind"],"description":"<p>The kind of item this is.\nFor notifications, this is always storage#notification.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L77","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"id-instance","type":"instance","name":"id","title":["Google","Cloud","Storage","Notification#id"],"description":"<p>The ID of the notification.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L83","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"api_url-instance","type":"instance","name":"api_url","title":["Google","Cloud","Storage","Notification#api_url"],"description":"<p>A URL that can be used to access the notification using the REST API.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L89","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"custom_attrs-instance","type":"instance","name":"custom_attrs","title":["Google","Cloud","Storage","Notification#custom_attrs"],"description":"<p>The custom attributes of this notification. An optional list of\nadditional attributes to attach to each Cloud Pub/Sub message\npublished for this notification subscription.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L97","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"event_types-instance","type":"instance","name":"event_types","title":["Google","Cloud","Storage","Notification#event_types"],"description":"<p>The event types of this notification. If present, only send\nnotifications about listed event types. If empty, sent notifications\nfor all event types.</p>\n\n<p>The following is a list of event types currently supported by Cloud\nStorage:</p>\n\n<ul>\n  <li><code>OBJECT_FINALIZE</code> - Sent when a new object (or a new generation of\nan existing object) is successfully created in the bucket. This\nincludes copying or rewriting an existing object. A failed upload\ndoes not trigger this event.</li>\n  <li><code>OBJECT_METADATA_UPDATE</code> - Sent when the metadata of an existing\nobject changes.</li>\n  <li><code>OBJECT_DELETE</code> - Sent when an object has been permanently deleted.\nThis includes objects that are overwritten or are deleted as part of\nthe bucket’s lifecycle configuration. For buckets with object\nversioning enabled, this is not sent when an object is archived (see\n<code>OBJECT_ARCHIVE</code>), even if archival occurs via the <a data-custom-type=\"google/cloud/storage/file\" data-method=\"delete-instance\">File#delete</a>\nmethod.</li>\n  <li><code>OBJECT_ARCHIVE</code> - Only sent when a bucket has enabled object\nversioning. This event indicates that the live version of an object\nhas become an archived version, either because it was archived or\nbecause it was overwritten by the upload of an object of the same\nname.</li>\n</ul>\n\n<p>Important: Additional event types may be released later. Client code\nshould either safely ignore unrecognized event types, or else\nexplicitly specify in their notification configuration which event\ntypes they are prepared to accept.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L132","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"prefix-instance","type":"instance","name":"prefix","title":["Google","Cloud","Storage","Notification#prefix"],"description":"<p>The file name prefix of this notification. If present, only apply\nthis notification configuration to file names that begin with this\nprefix.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L141","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"payload-instance","type":"instance","name":"payload","title":["Google","Cloud","Storage","Notification#payload"],"description":"<p>The desired content of the Pub/Sub message payload. Acceptable values\nare:</p>\n\n<ul>\n  <li><code>JSON_API_V1</code> - The payload will be a UTF-8 string containing the\n<a href=\"https://cloud.google.com/storage/docs/json_api/v1/objects#resource-representations\">resource\nrepresentation</a>\nof the file’s metadata.</li>\n  <li><code>NONE</code> - No payload is included with the notification.</li>\n</ul>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L155","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"topic-instance","type":"instance","name":"topic","title":["Google","Cloud","Storage","Notification#topic"],"description":"<p>The Cloud Pub/Sub topic to which this subscription publishes.\nFormatted as:\n<code>//pubsub.googleapis.com/projects/{project-id}/topics/{my-topic}</code></p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L163","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Storage","Notification#delete"],"description":"<p>Permanently deletes the notification.</p>\n\n<p>The API call to delete the notification may be retried under certain\nconditions. See Google::Cloud#storage to control this behavior.</p>","source":"google-cloud-storage/lib/google/cloud/storage/notification.rb#L184","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\nnotification = bucket.notification \"1\"\nnotification.delete"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the notification was deleted."}]}]}