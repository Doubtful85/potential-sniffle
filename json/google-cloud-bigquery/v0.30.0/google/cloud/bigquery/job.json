{"id":"google/cloud/bigquery/job","name":"Job","title":["Google","Cloud","Bigquery","Job"],"description":"<h1 id=\"job\">Job</h1>\n\n<p>Represents a generic Job that may be performed on a <a data-custom-type=\"google/cloud/bigquery/table\">Table</a>.</p>\n\n<p>The subclasses of Job represent the specific BigQuery job types:\n<a data-custom-type=\"google/cloud/bigquery/copyjob\">CopyJob</a>, <a data-custom-type=\"google/cloud/bigquery/extractjob\">ExtractJob</a>, <a data-custom-type=\"google/cloud/bigquery/loadjob\">LoadJob</a>, and <a data-custom-type=\"google/cloud/bigquery/queryjob\">QueryJob</a>.</p>\n\n<p>A job instance is created when you call <a data-custom-type=\"google/cloud/bigquery/project\" data-method=\"query_job-instance\">Project#query_job</a>,\n<a data-custom-type=\"google/cloud/bigquery/dataset\" data-method=\"query_job-instance\">Dataset#query_job</a>, <a data-custom-type=\"google/cloud/bigquery/table\" data-method=\"copy_job-instance\">Table#copy_job</a>, <a data-custom-type=\"google/cloud/bigquery/table\" data-method=\"extract_job-instance\">Table#extract_job</a>,\n<a data-custom-type=\"google/cloud/bigquery/table\" data-method=\"load_job-instance\">Table#load_job</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L57","resources":[{"title":"Running and\nManaging Jobs","link":"https://cloud.google.com/bigquery/docs/managing-jobs"},{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\njob = bigquery.query_job \"SELECT COUNT(word) as count FROM \" \\\n                         \"publicdata.samples.shakespeare\"\n\njob.wait_until_done!\n\nif job.failed?\n  puts job.error\nelse\n  puts job.data.first\nend"}],"methods":[{"id":"job_id-instance","type":"instance","name":"job_id","title":["Google","Cloud","Bigquery","Job#job_id"],"description":"<p>The ID of the job.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L80","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The ID must contain only letters (a-z, A-Z), numbers\n(0-9), underscores (_), or dashes (-). The maximum length is 1,024\ncharacters."}]},{"id":"project_id-instance","type":"instance","name":"project_id","title":["Google","Cloud","Bigquery","Job#project_id"],"description":"<p>The ID of the project containing the job.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L89","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The project ID."}]},{"id":"user_email-instance","type":"instance","name":"user_email","title":["Google","Cloud","Bigquery","Job#user_email"],"description":"<p>The email address of the user who ran the job.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L98","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The email address."}]},{"id":"state-instance","type":"instance","name":"state","title":["Google","Cloud","Bigquery","Job#state"],"description":"<p>The current state of the job. A <code>DONE</code> state does not mean that the\njob completed successfully. Use <a data-custom-type=\"google/cloud/bigquery/job\" data-method=\"failed?-instance\">#failed?</a> to discover if an error\noccurred or if the job was successful.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L110","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The state code. The possible values are <code>PENDING</code>,\n<code>RUNNING</code>, and <code>DONE</code>."}]},{"id":"running?-instance","type":"instance","name":"running?","title":["Google","Cloud","Bigquery","Job#running?"],"description":"<p>Checks if the job’s state is <code>RUNNING</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L120","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when <code>RUNNING</code>, <code>false</code> otherwise."}]},{"id":"pending?-instance","type":"instance","name":"pending?","title":["Google","Cloud","Bigquery","Job#pending?"],"description":"<p>Checks if the job’s state is <code>PENDING</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L130","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when <code>PENDING</code>, <code>false</code> otherwise."}]},{"id":"done?-instance","type":"instance","name":"done?","title":["Google","Cloud","Bigquery","Job#done?"],"description":"<p>Checks if the job’s state is <code>DONE</code>. When <code>true</code>, the job has stopped\nrunning. However, a <code>DONE</code> state does not mean that the job completed\nsuccessfully.  Use <a data-custom-type=\"google/cloud/bigquery/job\" data-method=\"failed?-instance\">#failed?</a> to detect if an error occurred or if the\njob was successful.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L143","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when <code>DONE</code>, <code>false</code> otherwise."}]},{"id":"failed?-instance","type":"instance","name":"failed?","title":["Google","Cloud","Bigquery","Job#failed?"],"description":"<p>Checks if an error is present. Use <a data-custom-type=\"google/cloud/bigquery/job\" data-method=\"error-instance\">#error</a> to access the error\nobject.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L154","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when there is an error, <code>false</code> otherwise."}]},{"id":"created_at-instance","type":"instance","name":"created_at","title":["Google","Cloud","Bigquery","Job#created_at"],"description":"<p>The time when the job was created.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L163","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/time\">Time</a>","nil"],"description":"The creation time from the job statistics."}]},{"id":"started_at-instance","type":"instance","name":"started_at","title":["Google","Cloud","Bigquery","Job#started_at"],"description":"<p>The time when the job was started.\nThis field is present after the job’s state changes from <code>PENDING</code>\nto either <code>RUNNING</code> or <code>DONE</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L176","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/time\">Time</a>","nil"],"description":"The start time from the job statistics."}]},{"id":"ended_at-instance","type":"instance","name":"ended_at","title":["Google","Cloud","Bigquery","Job#ended_at"],"description":"<p>The time when the job ended.\nThis field is present when the job’s state is <code>DONE</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L188","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/time\">Time</a>","nil"],"description":"The end time from the job statistics."}]},{"id":"configuration-instance","type":"instance","name":"configuration","title":["Google","Cloud","Bigquery","Job#configuration"],"description":"<p>The configuration for the job. Returns a hash.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L199","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"statistics-instance","type":"instance","name":"statistics","title":["Google","Cloud","Bigquery","Job#statistics"],"description":"<p>The statistics for the job. Returns a hash.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L212","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash"],"description":"The job statistics."}]},{"id":"status-instance","type":"instance","name":"status","title":["Google","Cloud","Bigquery","Job#status"],"description":"<p>The job’s status. Returns a hash. The values contained in the hash are\nalso exposed by <a data-custom-type=\"google/cloud/bigquery/job\" data-method=\"state-instance\">#state</a>, <a data-custom-type=\"google/cloud/bigquery/job\" data-method=\"error-instance\">#error</a>, and <a data-custom-type=\"google/cloud/bigquery/job\" data-method=\"errors-instance\">#errors</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L223","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash"],"description":"The job status."}]},{"id":"error-instance","type":"instance","name":"error","title":["Google","Cloud","Bigquery","Job#error"],"description":"<p>The last error for the job, if any errors have occurred. Returns a\nhash.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L242","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash","nil"],"description":"Returns a hash containing <code>reason</code> and <code>message</code>\nkeys:</p>\n\n<p>{\n  “reason”=&gt;”notFound”,\n  “message”=&gt;”Not found: Table publicdata:samples.BAD_ID”\n}"}]},{"id":"errors-instance","type":"instance","name":"errors","title":["Google","Cloud","Bigquery","Job#errors"],"description":"<p>The errors for the job, if any errors have occurred. Returns an array\nof hash objects. See <a data-custom-type=\"google/cloud/bigquery/job\" data-method=\"error-instance\">#error</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L258","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;Hash&gt;","nil"],"description":"Returns an array of hashes containing\n<code>reason</code> and <code>message</code> keys:</p>\n\n<p>{\n  “reason”=&gt;”notFound”,\n  “message”=&gt;”Not found: Table publicdata:samples.BAD_ID”\n}"}]},{"id":"labels-instance","type":"instance","name":"labels","title":["Google","Cloud","Bigquery","Job#labels"],"description":"<p>A hash of user-provided labels associated with this job. Labels can be\nprovided when the job is created, and used to organize and group jobs.</p>\n\n<p>The returned hash is frozen and changes are not allowed. Use\n#labels= to replace the entire hash.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L273","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash"],"description":"The job labels."}]},{"id":"cancel-instance","type":"instance","name":"cancel","title":["Google","Cloud","Bigquery","Job#cancel"],"description":"<p>Cancels the job.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L292","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\njob = bigquery.query_job \"SELECT COUNT(word) as count FROM \" \\\n                         \"publicdata.samples.shakespeare\"\n\njob.cancel"}],"params":[],"exceptions":[],"returns":[]},{"id":"rerun!-instance","type":"instance","name":"rerun!","title":["Google","Cloud","Bigquery","Job#rerun!"],"description":"<p>Created a new job with the current configuration.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L313","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\njob = bigquery.query_job \"SELECT COUNT(word) as count FROM \" \\\n                         \"publicdata.samples.shakespeare\"\n\njob.wait_until_done!\njob.rerun!"}],"params":[],"exceptions":[],"returns":[]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Bigquery","Job#reload!"],"description":"<p>Reloads the job with current data from the BigQuery service.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L334","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\njob = bigquery.query_job \"SELECT COUNT(word) as count FROM \" \\\n                         \"publicdata.samples.shakespeare\"\n\njob.done?\njob.reload!\njob.done? #=> true"}],"params":[],"exceptions":[],"returns":[]},{"id":"wait_until_done!-instance","type":"instance","name":"wait_until_done!","title":["Google","Cloud","Bigquery","Job#wait_until_done!"],"description":"<p>Refreshes the job until the job is <code>DONE</code>. The delay between refreshes\nstarts at 5 seconds and increases exponentially to a maximum of 60\nseconds.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/job.rb#L358","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\n\nextract_job = table.extract_job \"gs://my-bucket/file-name.json\",\n                                format: \"json\"\nextract_job.wait_until_done!\nextract_job.done? #=> true"}],"params":[],"exceptions":[],"returns":[]}]}