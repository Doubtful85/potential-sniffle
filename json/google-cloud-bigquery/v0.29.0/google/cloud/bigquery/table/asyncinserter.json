{"id":"google/cloud/bigquery/table/asyncinserter","name":"AsyncInserter","title":["Google","Cloud","Bigquery","Table","AsyncInserter"],"description":"<h1 id=\"asyncinserter\">AsyncInserter</h1>\n\n<p>Used to insert multiple rows in batches to a topic. See\nGoogle::Cloud::Bigquery::Table#insert_async.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L59","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\ninserter = table.insert_async do |response|\n  log_insert \"inserted #{response.insert_count} rows \" \\\n    \"with #{response.error_count} errors\"\nend\n\nrows = [\n  { \"first_name\" => \"Alice\", \"age\" => 21 },\n  { \"first_name\" => \"Bob\", \"age\" => 22 }\n]\ninserter.insert rows\n\ninserter.stop.wait!"}],"methods":[{"id":"max_bytes-instance","type":"instance","name":"max_bytes","title":["Google","Cloud","Bigquery","Table","AsyncInserter#max_bytes"],"description":"<p>The maximum size of rows to be\ncollected before the batch is inserted. Default is 10,000,000\n(10MB).</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"the current value of max_bytes"}]},{"id":"max_rows-instance","type":"instance","name":"max_rows","title":["Google","Cloud","Bigquery","Table","AsyncInserter#max_rows"],"description":"<p>The maximum number of rows to be\ncollected before the batch is inserted. Default is 500.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"the current value of max_rows"}]},{"id":"interval-instance","type":"instance","name":"interval","title":["Google","Cloud","Bigquery","Table","AsyncInserter#interval"],"description":"<p>The number of seconds to collect rows\nbefore the batch is inserted. Default is 10.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Numeric"],"description":"the current value of interval"}]},{"id":"threads-instance","type":"instance","name":"threads","title":["Google","Cloud","Bigquery","Table","AsyncInserter#threads"],"description":"<p>The number of threads used to insert\nrows. Default is 4.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L59","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"the current value of threads"}]},{"id":"insert-instance","type":"instance","name":"insert","title":["Google","Cloud","Bigquery","Table","AsyncInserter#insert"],"description":"<p>Adds rows to the async inserter to be inserted. Rows will be\ncollected in batches and inserted together.\nSee Google::Cloud::Bigquery::Table#insert_async.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L100","resources":[],"examples":[],"params":[{"name":"rows","types":["Hash","Array<Hash>"],"description":"A hash object or array of hash\nobjects containing the data.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"stop-instance","type":"instance","name":"stop","title":["Google","Cloud","Bigquery","Table","AsyncInserter#stop"],"description":"<p>Begins the process of stopping the inserter. Rows already in the\nqueue will be inserted, but no new rows can be added. Use <a data-custom-type=\"google/cloud/bigquery/table/asyncinserter\" data-method=\"wait!-instance\">#wait!</a>\nto block until the inserter is fully stopped and all pending rows\nhave been inserted.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L140","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/table/asyncinserter\">AsyncInserter</a>"],"description":"returns self so calls can be chained."}]},{"id":"wait!-instance","type":"instance","name":"wait!","title":["Google","Cloud","Bigquery","Table","AsyncInserter#wait!"],"description":"<p>Blocks until the inserter is fully stopped, all pending rows\nhave been inserted, and all callbacks have completed. Does not stop\nthe inserter. To stop the inserter, first call <a data-custom-type=\"google/cloud/bigquery/table/asyncinserter\" data-method=\"stop-instance\">#stop</a> and then\ncall <a data-custom-type=\"google/cloud/bigquery/table/asyncinserter\" data-method=\"wait!-instance\">#wait!</a> to block until the inserter is stopped.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L160","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/table/asyncinserter\">AsyncInserter</a>"],"description":"returns self so calls can be chained."}]},{"id":"flush-instance","type":"instance","name":"flush","title":["Google","Cloud","Bigquery","Table","AsyncInserter#flush"],"description":"<p>Forces all rows in the current batch to be inserted immediately.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L174","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/table/asyncinserter\">AsyncInserter</a>"],"description":"returns self so calls can be chained."}]},{"id":"started?-instance","type":"instance","name":"started?","title":["Google","Cloud","Bigquery","Table","AsyncInserter#started?"],"description":"<p>Whether the inserter has been started.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L188","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["boolean"],"description":"<code>true</code> when started, <code>false</code> otherwise."}]},{"id":"stopped?-instance","type":"instance","name":"stopped?","title":["Google","Cloud","Bigquery","Table","AsyncInserter#stopped?"],"description":"<p>Whether the inserter has been stopped.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/table/async_inserter.rb#L197","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["boolean"],"description":"<code>true</code> when stopped, <code>false</code> otherwise."}]}]}