{"id":"google/cloud/bigquery/queryjob/updater","name":"Updater","title":["Google","Cloud","Bigquery","QueryJob","Updater"],"description":"<p>Yielded to a block to accumulate changes for a patch request.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L468","resources":[],"examples":[],"methods":[{"id":"location=-instance","type":"instance","name":"location=","title":["Google","Cloud","Bigquery","QueryJob","Updater#location="],"description":"<p>Sets the geographic location where the job should run. Required\nexcept for US and EU.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L537","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\n\njob = bigquery.query_job \"SELECT 1;\" do |query|\n  query.table = dataset.table \"my_table\", skip_lookup: true\n  query.location = \"EU\"\nend"}],"params":[{"name":"value","types":["String"],"description":"A geographic location, such as “US”, “EU” or\n“asia-northeast1”. Required except for US and EU.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"priority=-instance","type":"instance","name":"priority=","title":["Google","Cloud","Bigquery","QueryJob","Updater#priority="],"description":"<p>Sets the priority of the query.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L553","resources":[],"examples":[],"params":[{"name":"value","types":["String"],"description":"Specifies a priority for the query. Possible\nvalues include <code>INTERACTIVE</code> and <code>BATCH</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"cache=-instance","type":"instance","name":"cache=","title":["Google","Cloud","Bigquery","QueryJob","Updater#cache="],"description":"<p>Specifies to look in the query cache for results.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L567","resources":[],"examples":[],"params":[{"name":"value","types":["Boolean"],"description":"Whether to look for the result in the query\ncache. The query cache is a best-effort cache that will be flushed\nwhenever tables in the query are modified. The default value is\ntrue. For more information, see <a href=\"https://developers.google.com/bigquery/querying-data\">query\ncaching</a>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"large_results=-instance","type":"instance","name":"large_results=","title":["Google","Cloud","Bigquery","QueryJob","Updater#large_results="],"description":"<p>Allow large results for a legacy SQL query.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L580","resources":[],"examples":[],"params":[{"name":"value","types":["Boolean"],"description":"This option is specific to Legacy SQL.\nIf <code>true</code>, allows the query to produce arbitrarily large result\ntables at a slight cost in performance. Requires <code>table</code> parameter\nto be set.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"flatten=-instance","type":"instance","name":"flatten=","title":["Google","Cloud","Bigquery","QueryJob","Updater#flatten="],"description":"<p>Flatten nested and repeated fields in legacy SQL queries.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L593","resources":[],"examples":[],"params":[{"name":"value","types":["Boolean"],"description":"This option is specific to Legacy SQL.\nFlattens all nested and repeated fields in the query results. The\ndefault value is <code>true</code>. <code>large_results</code> parameter must be <code>true</code>\nif this is set to <code>false</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"dataset=-instance","type":"instance","name":"dataset=","title":["Google","Cloud","Bigquery","QueryJob","Updater#dataset="],"description":"<p>Sets the default dataset of tables referenced in the query.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L604","resources":[],"examples":[],"params":[{"name":"value","types":["Dataset"],"description":"The default dataset to use for unqualified\ntable names in the query.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"params=-instance","type":"instance","name":"params=","title":["Google","Cloud","Bigquery","QueryJob","Updater#params="],"description":"<p>Sets the query parameters. Standard SQL only.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L621","resources":[],"examples":[],"params":[{"name":"params","types":["Array","Hash"],"description":"Used to pass query arguments when the\n<code>query</code> string contains either positional (<code>?</code>) or named\n(<code>@myparam</code>) query parameters. If value passed is an array\n<code>[\"foo\"]</code>, the query must use positional query parameters. If\nvalue passed is a hash <code>{ myparam: \"foo\" }</code>, the query must use\nnamed query parameters. When set, <code>legacy_sql</code> will automatically\nbe set to false and <code>standard_sql</code> to true.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"create=-instance","type":"instance","name":"create=","title":["Google","Cloud","Bigquery","QueryJob","Updater#create="],"description":"<p>Sets the create disposition for creating the query results table.</p>\n\n<p>create new tables. The default value is <code>needed</code>.</p>\n\n<p>The following values are supported:</p>\n\n<ul>\n  <li><code>needed</code> - Create the table if it does not exist.</li>\n  <li><code>never</code> - The table must already exist. A ‘notFound’ error is\nraised if the table does not exist.</li>\n</ul>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L656","resources":[],"examples":[],"params":[{"name":"value","types":["String"],"description":"Specifies whether the job is allowed to","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"write=-instance","type":"instance","name":"write=","title":["Google","Cloud","Bigquery","QueryJob","Updater#write="],"description":"<p>Sets the write disposition for when the query results table exists.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L675","resources":[],"examples":[],"params":[{"name":"value","types":["String"],"description":"Specifies the action that occurs if the\ndestination table already exists. The default value is <code>empty</code>.</p>\n\n<p>The following values are supported:</p>\n\n<ul>\n  <li><code>truncate</code> - BigQuery overwrites the table data.</li>\n  <li><code>append</code> - BigQuery appends the data to the table.</li>\n  <li><code>empty</code> - A ‘duplicate’ error is returned in the job result if\nthe table exists and contains data.</li>\n</ul>","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"table=-instance","type":"instance","name":"table=","title":["Google","Cloud","Bigquery","QueryJob","Updater#table="],"description":"<p>Sets the destination for the query results table.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L688","resources":[],"examples":[],"params":[{"name":"value","types":["Table"],"description":"The destination table where the query results\nshould be stored. If not present, a new table will be created\naccording to the create disposition to store the results.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"maximum_bytes_billed=-instance","type":"instance","name":"maximum_bytes_billed=","title":["Google","Cloud","Bigquery","QueryJob","Updater#maximum_bytes_billed="],"description":"<p>Sets the maximum bytes billed for the query.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L701","resources":[],"examples":[],"params":[{"name":"value","types":["Integer"],"description":"Limits the bytes billed for this job.\nQueries that will have bytes billed beyond this limit will fail\n(without incurring a charge). Optional. If unspecified, this will\nbe set to your project default.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"labels=-instance","type":"instance","name":"labels=","title":["Google","Cloud","Bigquery","QueryJob","Updater#labels="],"description":"<p>Sets the labels to use for the job.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L718","resources":[],"examples":[],"params":[{"name":"value","types":["Hash"],"description":"A hash of user-provided labels associated with\nthe job. You can use these to organize and group your jobs. Label\nkeys and values can be no longer than 63 characters, can only\ncontain lowercase letters, numeric characters, underscores and\ndashes. International characters are allowed. Label values are\noptional. Label keys must start with a letter and each label in\nthe list must have a different key.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"legacy_sql=-instance","type":"instance","name":"legacy_sql=","title":["Google","Cloud","Bigquery","QueryJob","Updater#legacy_sql="],"description":"<p>Sets the query syntax to legacy SQL.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L734","resources":[],"examples":[],"params":[{"name":"value","types":["Boolean"],"description":"Specifies whether to use BigQuery’s <a href=\"https://cloud.google.com/bigquery/docs/reference/legacy-sql\">legacy\nSQL</a>\ndialect for this query. If set to false, the query will use\nBigQuery’s <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/\">standard\nSQL</a>\ndialect. Optional. The default value is false.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"standard_sql=-instance","type":"instance","name":"standard_sql=","title":["Google","Cloud","Bigquery","QueryJob","Updater#standard_sql="],"description":"<p>Sets the query syntax to standard SQL.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L750","resources":[],"examples":[],"params":[{"name":"value","types":["Boolean"],"description":"Specifies whether to use BigQuery’s <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/\">standard\nSQL</a>\ndialect for this query. If set to true, the query will use\nstandard SQL rather than the <a href=\"https://cloud.google.com/bigquery/docs/reference/legacy-sql\">legacy\nSQL</a>\ndialect. Optional. The default value is true.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"external=-instance","type":"instance","name":"external=","title":["Google","Cloud","Bigquery","QueryJob","Updater#external="],"description":"<p>Sets definitions for external tables used in the query.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L764","resources":[],"examples":[],"params":[{"name":"value","types":["Hash<String|Symbol, External::DataSource>"],"description":"A Hash\nthat represents the mapping of the external tables to the table\nnames used in the SQL query. The hash keys are the table names,\nand the hash values are the external table objects.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"udfs=-instance","type":"instance","name":"udfs=","title":["Google","Cloud","Bigquery","QueryJob","Updater#udfs="],"description":"<p>Sets user defined functions for the query.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L784","resources":[],"examples":[],"params":[{"name":"value","types":["Array<String>","String"],"description":"User-defined function resources\nused in the query. May be either a code resource to load from a\nGoogle Cloud Storage URI (<code>gs://bucket/path</code>), or an inline\nresource that contains code for a user-defined function (UDF).\nProviding an inline code resource is equivalent to providing a URI\nfor a file containing the same code. See <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions\">User-Defined\nFunctions</a>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"encryption=-instance","type":"instance","name":"encryption=","title":["Google","Cloud","Bigquery","QueryJob","Updater#encryption="],"description":"<p>Sets the encryption configuration of the destination table.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L809","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\n\nkey_name = \"projects/a/locations/b/keyRings/c/cryptoKeys/d\"\nencrypt_config = bigquery.encryption kms_key: key_name\njob = bigquery.query_job \"SELECT 1;\" do |query|\n  query.table = dataset.table \"my_table\", skip_lookup: true\n  query.encryption = encrypt_config\nend"}],"params":[{"name":"val","types":["Google::Cloud::BigQuery::EncryptionConfiguration"],"description":"Custom encryption configuration (e.g., Cloud KMS keys).","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"time_partitioning_type=-instance","type":"instance","name":"time_partitioning_type=","title":["Google","Cloud","Bigquery","QueryJob","Updater#time_partitioning_type="],"description":"<p>Sets the partitioning for the destination table. See <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned\nTables</a>.</p>\n\n<p>You can only set the partitioning field while creating a table.\nBigQuery does not allow you to change partitioning on an existing\ntable.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L845","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\n\njob = dataset.query_job \"SELECT * FROM UNNEST(\" \\\n                        \"GENERATE_TIMESTAMP_ARRAY(\" \\\n                        \"'2018-10-01 00:00:00', \" \\\n                        \"'2018-10-10 00:00:00', \" \\\n                        \"INTERVAL 1 DAY)) AS dob\" do |job|\n  job.time_partitioning_type = \"DAY\"\nend\n\njob.wait_until_done!\njob.done? #=> true"}],"params":[{"name":"type","types":["String"],"description":"The partition type. Currently the only\nsupported value is “DAY”.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"time_partitioning_field=-instance","type":"instance","name":"time_partitioning_field=","title":["Google","Cloud","Bigquery","QueryJob","Updater#time_partitioning_field="],"description":"<p>Sets the field on which to partition the destination table. If not\nset, the destination table is partitioned by pseudo column\n<code>_PARTITIONTIME</code>; if set, the table is partitioned by this field.\nSee <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned\nTables</a>.</p>\n\n<p>The destination table must also be partitioned. See\n<a data-custom-type=\"google/cloud/bigquery/queryjob/updater\" data-method=\"time_partitioning_type=-instance\">#time_partitioning_type=</a>.</p>\n\n<p>You can only set the partitioning field while creating a table.\nBigQuery does not allow you to change partitioning on an existing\ntable.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L889","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\n\njob = dataset.query_job \"SELECT * FROM UNNEST(\" \\\n                        \"GENERATE_TIMESTAMP_ARRAY(\" \\\n                        \"'2018-10-01 00:00:00', \" \\\n                        \"'2018-10-10 00:00:00', \" \\\n                        \"INTERVAL 1 DAY)) AS dob\" do |job|\n  job.time_partitioning_type  = \"DAY\"\n  job.time_partitioning_field = \"dob\"\nend\n\njob.wait_until_done!\njob.done? #=> true"}],"params":[{"name":"field","types":["String"],"description":"The partition field. The field must be a\ntop-level TIMESTAMP or DATE field. Its mode must be NULLABLE or\nREQUIRED.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"time_partitioning_expiration=-instance","type":"instance","name":"time_partitioning_expiration=","title":["Google","Cloud","Bigquery","QueryJob","Updater#time_partitioning_expiration="],"description":"<p>Sets the partition expiration for the destination table. See\n<a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned\nTables</a>.</p>\n\n<p>The destination table must also be partitioned. See\n<a data-custom-type=\"google/cloud/bigquery/queryjob/updater\" data-method=\"time_partitioning_type=-instance\">#time_partitioning_type=</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L926","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\n\njob = dataset.query_job \"SELECT * FROM UNNEST(\" \\\n                        \"GENERATE_TIMESTAMP_ARRAY(\" \\\n                        \"'2018-10-01 00:00:00', \" \\\n                        \"'2018-10-10 00:00:00', \" \\\n                        \"INTERVAL 1 DAY)) AS dob\" do |job|\n  job.time_partitioning_type = \"DAY\"\n  job.time_partitioning_expiration = 86_400\nend\n\njob.wait_until_done!\njob.done? #=> true"}],"params":[{"name":"expiration","types":["Integer"],"description":"An expiration time, in seconds,\nfor data in partitions.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"time_partitioning_require_filter=-instance","type":"instance","name":"time_partitioning_require_filter=","title":["Google","Cloud","Bigquery","QueryJob","Updater#time_partitioning_require_filter="],"description":"<p>If set to true, queries over the destination table will require a\npartition filter that can be used for partition elimination to be\nspecified. See <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned\nTables</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/query_job.rb#L944","resources":[],"examples":[],"params":[{"name":"val","types":["Boolean"],"description":"Indicates if queries over the destination table\nwill require a partition filter. The default value is <code>false</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]}]}