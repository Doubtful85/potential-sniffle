{"id":"google/cloud/bigtable/policy","name":"Policy","title":["Google","Cloud","Bigtable","Policy"],"description":"<h1 id=\"policy\">Policy</h1>\n\n<p>Represents a Cloud IAM Policy for the Bigtable instance resources.</p>\n\n<p>A common pattern for updating a resourceâ€™s metadata, such as its Policy,\nis to read the current data from the service, update the data locally,\nand then send the modified data for writing. This pattern may result in\na conflict if two or more processes attempt the sequence simultaneously.\nIAM solves this problem with the Google::Cloud::Bigtable::Policy#etag\nproperty, which is used to verify whether the policy has changed since\nthe last request. When you make a request to with an <code>etag</code> value, Cloud\nIAM compares the <code>etag</code> value in the request with the existing <code>etag</code>\nvalue associated with the policy. It writes the policy only if the\n<code>etag</code> values match.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L55","resources":[{"title":"Permissions and roles","link":"https://cloud.google.com/bigtable/docs/access-control"}],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\ninstance = bigtable.instance \"my-instance\"\n\npolicy = instance.policy\npolicy.remove(\"roles/owner\", \"user:owner@example.com\")\npolicy.add(\"roles/owner\", \"user:newowner@example.com\")\npolicy.roles[\"roles/viewer\"] = [\"allUsers\"]"}],"methods":[{"id":"etag=-instance","type":"instance","name":"etag=","title":["Google","Cloud","Bigtable","Policy#etag="],"description":"<p>Used to verify whether the policy has changed since\nthe last request. The policy will be written only if the <code>etag</code> values\nmatch.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L55","resources":[],"examples":[],"params":[{"name":"value","types":["String"],"description":"the value to set the attribute etag to.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["String"],"description":"the newly set value"}]},{"id":"etag-instance","type":"instance","name":"etag","title":["Google","Cloud","Bigtable","Policy#etag"],"description":"<p>Used to verify whether the policy has changed since\nthe last request. The policy will be written only if the <code>etag</code> values\nmatch.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L55","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"the current value of etag"}]},{"id":"roles=-instance","type":"instance","name":"roles=","title":["Google","Cloud","Bigtable","Policy#roles="],"description":"<p>The bindings that associate\nroles with an array of members. See <a href=\"https://cloud.google.com/iam/docs/understanding-roles\">Understanding\nRoles</a> for a\nlisting of primitive and curated roles.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L55","resources":[],"examples":[],"params":[{"name":"value","types":["Hash{String => Array<String>}"],"description":"the value to set the attribute roles to.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Hash{String =&gt; Array&lt;String&gt;}"],"description":"the newly set value"}]},{"id":"roles-instance","type":"instance","name":"roles","title":["Google","Cloud","Bigtable","Policy#roles"],"description":"<p>The bindings that associate\nroles with an array of members. See <a href=\"https://cloud.google.com/iam/docs/understanding-roles\">Understanding\nRoles</a> for a\nlisting of primitive and curated roles.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L55","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash{String =&gt; Array&lt;String&gt;}"],"description":"the current value of roles"}]},{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","Bigtable","Policy#initialize"],"description":"<p>Creates a Policy instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L61","resources":[],"examples":[],"params":[{"name":"etag","types":["String"],"description":"","optional":false,"nullable":false},{"name":"roles","types":["Array<String>"],"description":"","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/policy\">Policy</a>"],"description":"a new instance of Policy"}]},{"id":"add-instance","type":"instance","name":"add","title":["Google","Cloud","Bigtable","Policy#add"],"description":"<p>Convenience method for adding a member to a binding on this policy.\nSee <a href=\"https://cloud.google.com/iam/docs/understanding-roles\">Understanding\nRoles</a> for a\nlisting of primitive and curated roles. See\n<a href=\"https://cloud.google.com/bigtable/docs/access-control\">Binding</a>\nfor a listing of values and patterns for members.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L87","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\ninstance = bigtable.instance \"my-instance\"\n\npolicy = instance.policy\npolicy.add(\"roles/owner\", \"user:newowner@example.com\")"}],"params":[{"name":"role_name","types":["String"],"description":"A Cloud IAM role, such as\n<code>\"roles/bigtable.admin\"</code>.","optional":false,"nullable":false},{"name":"member","types":["String"],"description":"A Cloud IAM identity, such as\n<code>\"user:owner@example.com\"</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"remove-instance","type":"instance","name":"remove","title":["Google","Cloud","Bigtable","Policy#remove"],"description":"<p>Convenience method for removing a member from a binding on this\npolicy. See <a href=\"https://cloud.google.com/iam/docs/understanding-roles\">Understanding\nRoles</a> for a\nlisting of primitive and curated roles.See\n<a href=\"https://cloud.google.com/bigtable/docs/access-control\">Binding</a>\nfor a listing of values and patterns for members.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L112","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/Bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\ninstance = bigtable.instance \"my-instance\"\n\npolicy = instance.policy\npolicy.remove(\"roles/owner\", \"user:newowner@example.com\")"}],"params":[{"name":"role_name","types":["String"],"description":"A Cloud IAM role, such as\n<code>\"roles/Bigtable.admin\"</code>.","optional":false,"nullable":false},{"name":"member","types":["String"],"description":"A Cloud IAM identity, such as\n<code>\"user:owner@example.com\"</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"role-instance","type":"instance","name":"role","title":["Google","Cloud","Bigtable","Policy#role"],"description":"<p>Convenience method returning the array of members bound to a role in\nthis policy, or an empty array if no value is present for the role in\n<a data-custom-type=\"google/cloud/bigtable/policy\" data-method=\"roles-instance\">#roles</a>. See <a href=\"https://cloud.google.com/iam/docs/understanding-roles\">Understanding\nRoles</a> for a\nlisting of primitive and curated roles. See\n<a href=\"https://cloud.google.com/bigtable/docs/access-control\">Binding</a>\nfor a listing of values and patterns for members.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/policy.rb#L135","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/Bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\ninstance = bigtable.instance \"my-instance\"\n\npolicy = instance.policy\npolicy.role(\"roles/viewer\") << \"user:viewer@example.com\""}],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;String&gt;"],"description":"The members strings, or an empty array."}]}]}