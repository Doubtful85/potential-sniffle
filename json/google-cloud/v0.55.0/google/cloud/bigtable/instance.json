{"id":"google/cloud/bigtable/instance","name":"Instance","title":["Google","Cloud","Bigtable","Instance"],"description":"<h1 id=\"instance\">Instance</h1>\n\n<p>Represents a Bigtable instance. Instances are dedicated Bigtable\nserving and storage resources to be used by Bigtable tables.</p>\n\n<p>See Google::Cloud::Bigtable::Project#instances,\nGoogle::Cloud::Bigtable::Project#instance, and\nGoogle::Cloud::Bigtable::Project#create_instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L62","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\njob = bigtable.create_instance(\n  \"my-instance\",\n  \"Instance for user data\",\n  type: :DEVELOPMENT,\n  labels: { \"env\" => \"dev\"}\n) do |clusters|\n  clusters.add(\"test-cluster\", \"us-east1-b\", nodes: 1)\nend\n\njob.done? #=> false\n\n# To block until the operation completes.\njob.wait_until_done!\njob.done? #=> true\n\nif job.error?\n  status = job.error\nelse\n  instance = job.instance\nend"}],"methods":[{"id":"project_id-instance","type":"instance","name":"project_id","title":["Google","Cloud","Bigtable","Instance#project_id"],"description":"<p>The unique identifier for the project.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L79","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"instance_id-instance","type":"instance","name":"instance_id","title":["Google","Cloud","Bigtable","Instance#instance_id"],"description":"<p>The unique identifier for the instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L87","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"display_name-instance","type":"instance","name":"display_name","title":["Google","Cloud","Bigtable","Instance#display_name"],"description":"<p>The descriptive name for this instance as it appears in UIs. Must be\nunique per project and between 4 and 30 characters in length.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L96","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"display_name=-instance","type":"instance","name":"display_name=","title":["Google","Cloud","Bigtable","Instance#display_name="],"description":"<p>Updates the descriptive name for this instance as it appears in UIs.\nCan be changed at any time, but should be kept globally unique\nto avoid confusion.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L106","resources":[],"examples":[],"params":[{"name":"value","types":["String"],"description":"The descriptive name for this instance.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"path-instance","type":"instance","name":"path","title":["Google","Cloud","Bigtable","Instance#path"],"description":"<p>The full path for the instance resource. Values are of the form\n<code>projects/&lt;project_id&gt;/instances/&lt;instance_id&gt;</code>.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L115","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"state-instance","type":"instance","name":"state","title":["Google","Cloud","Bigtable","Instance#state"],"description":"<p>The current instance state. Possible values are <code>:CREATING</code>,\n<code>:READY</code>, <code>:STATE_NOT_KNOWN</code>.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L124","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Symbol"],"description":""}]},{"id":"ready?-instance","type":"instance","name":"ready?","title":["Google","Cloud","Bigtable","Instance#ready?"],"description":"<p>The instance has been successfully created and can serve requests\nto its tables</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L133","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"creating?-instance","type":"instance","name":"creating?","title":["Google","Cloud","Bigtable","Instance#creating?"],"description":"<p>The instance is currently being created, and may be destroyed if the\ncreation process encounters an error.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L142","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"type-instance","type":"instance","name":"type","title":["Google","Cloud","Bigtable","Instance#type"],"description":"<p>Instance type. Possible values are <code>:DEVELOPMENT</code>, <code>:PRODUCTION</code>,\n<code>:TYPE_UNSPECIFIED</code></p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L151","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Symbol"],"description":""}]},{"id":"development?-instance","type":"instance","name":"development?","title":["Google","Cloud","Bigtable","Instance#development?"],"description":"<p>The instance is meant for development and testing purposes only; it has\nno performance or uptime guarantees and is not covered by SLA.\nAfter a development instance is created, it can be upgraded by\nupdating the instance to type <code>PRODUCTION</code>. An instance created\nas a production instance cannot be changed to a development instance.\nWhen creating a development instance, <code>serve_nodes</code> on the cluster must\nnot be set.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L165","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"production?-instance","type":"instance","name":"production?","title":["Google","Cloud","Bigtable","Instance#production?"],"description":"<p>An instance meant for production use. <code>serve_nodes</code> must be set\non the cluster.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L174","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"type=-instance","type":"instance","name":"type=","title":["Google","Cloud","Bigtable","Instance#type="],"description":"<p>Set instance type.</p>\n\n<p>Valid values are <code>:DEVELOPMENT</code>, <code>:PRODUCTION</code>.\nIf instance already created then After a development instance is\ncreated, it can be upgraded by updating the instance to type <code>PRODUCTION</code>.\nAn instance created as a production instance cannot be changed to a\ndevelopment instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L188","resources":[],"examples":[],"params":[{"name":"instance_type","types":["Symbol"],"description":"","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"labels-instance","type":"instance","name":"labels","title":["Google","Cloud","Bigtable","Instance#labels"],"description":"<p>Get instance labels.</p>\n\n<p>Cloud Labels are a flexible and lightweight mechanism for organizing\ncloud resources into groups that reflect a customer’s organizational\nneeds and deployment strategies. Cloud Labels can be used to filter\ncollections of resources. They can be used to control how resource\nmetrics are aggregated. And they can be used as arguments to policy\nmanagement rules (e.g. route, firewall, load balancing, etc.).</p>\n\n<ul>\n  <li>Label keys must be between 1 and 63 characters long and must conform\nto the following regular expression: <code>[a-z]([-a-z0-9]*[a-z0-9])?</code>.</li>\n  <li>Label values must be between 0 and 63 characters long and must\nconform to the regular expression <code>([a-z]([-a-z0-9]*[a-z0-9])?)?</code>.</li>\n  <li>No more than 64 labels can be associated with a given resource.</li>\n</ul>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L209","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash{String=&gt;String}"],"description":"The label keys and values in a hash."}]},{"id":"labels=-instance","type":"instance","name":"labels=","title":["Google","Cloud","Bigtable","Instance#labels="],"description":"<p>Set the Cloud Labels.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L217","resources":[],"examples":[],"params":[{"name":"labels","types":["Hash{String=>String}"],"description":"The Cloud Labels.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"save-instance","type":"instance","name":"save","title":["Google","Cloud","Bigtable","Instance#save"],"description":"<p>Update instance.</p>\n\n<p>Updatable attributes are :</p>\n<ul>\n  <li><code>display_name</code> - The descriptive name for this instance.</li>\n  <li><code>type</code> -  <code>:DEVELOPMENT</code> type instance can be upgraded to <code>:PRODUCTION</code> instance.\nAn instance created as a production instance cannot be changed to a development instance.</li>\n  <li><code>labels</code> - Cloud Labels are a flexible and lightweight mechanism for organizing cloud resources.</li>\n</ul>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L260","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\ninstance.display_name = \"My app dev instance\"  # Set display name\ninstance.labels = { env: \"dev\", data: \"users\" }\njob = instance.save\n\njob.done? #=> false\n\n# Reload job until completion.\njob.wait_until_done!\njob.done? #=> true\n\nif job.error?\n  puts job.error\nelse\n  instance = job.instance\n  puts instance.name\n  puts instance.labels\nend"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/instance/job\">Google::Cloud::Bigtable::Instance::Job</a>"],"description":"The job representing the long-running, asynchronous processing of\nan instance update operation."}]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Bigtable","Instance#reload!"],"description":"<p>Reload instance information.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L274","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/instance\">Google::Cloud::Bigtable::Instance</a>"],"description":""}]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Bigtable","Instance#delete"],"description":"<p>Permanently deletes the instance from a project.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L291","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\ninstance.delete"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the instance was deleted."}]},{"id":"clusters-instance","type":"instance","name":"clusters","title":["Google","Cloud","Bigtable","Instance#clusters"],"description":"<p>Lists information about clusters in an instance.</p>\n\n<p>See to delete Google::Cloud::Bigtable::Cluster#delete and update\n cluster Google::Cloud::Bigtable::Cluster#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L319","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ninstance.clusters.all do |cluster|\n  puts cluster.cluster_id\nend"}],"params":[{"name":"token","types":["String"],"description":"The <code>token</code> value returned by the last call to\n<code>clusters</code>; indicates that this is a continuation of a call,\nand that the system should return the next page of data.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigtable/cluster\">Google::Cloud::Bigtable::Cluster</a>&gt;"],"description":"See(<a data-custom-type=\"google/cloud/bigtable/cluster/list\">Google::Cloud::Bigtable::Cluster::List</a>)"}]},{"id":"cluster-instance","type":"instance","name":"cluster","title":["Google","Cloud","Bigtable","Instance#cluster"],"description":"<p>Gets cluster information.</p>\n\n<p>See to delete Google::Cloud::Bigtable::Cluster#delete and update\n cluster Google::Cloud::Bigtable::Cluster#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L343","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ncluster = instance.cluster(\"my-instance-cluster\")\nputs cluster.cluster_id"}],"params":[{"name":"cluster_id","types":["String"],"description":"The unique ID of the requested cluster.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/cluster\">Google::Cloud::Bigtable::Cluster</a>","nil"],"description":""}]},{"id":"create_cluster-instance","type":"instance","name":"create_cluster","title":["Google","Cloud","Bigtable","Instance#create_cluster"],"description":"<p>Creates a cluster within an instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L396","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\njob = instance.create_cluster(\n  \"my-new-cluster\",\n  \"us-east-1b\",\n  nodes: 3,\n  storage_type: :SSD\n)\n\njob.done? #=> false\n\n# To block until the operation completes.\njob.wait_until_done!\njob.done? #=> true\n\nif job.error?\n  status = job.error\nelse\n  cluster = job.cluster\nend"}],"params":[{"name":"cluster_id","types":["String"],"description":"The ID to be used when referring to the new cluster within its instance,\ne.g., just +mycluster+","optional":false,"nullable":false},{"name":"location","types":["String"],"description":"The location where this cluster’s nodes and storage reside. For best\nperformance, clients should be located as close as possible to this\ncluster. Currently only zones are supported.\ni.e “us-east-1b”","optional":false,"nullable":false},{"name":"nodes","types":["Integer"],"description":"The number of nodes allocated to this cluster.\nMore nodes enable higher throughput and more consistent performance.","optional":true,"default":"nil","nullable":true},{"name":"storage_type","types":["Symbol"],"description":"Type of storage type.\nThe type of storage used by this cluster to serve its\nparent instance’s tables.\nValid types are:</p>\n<ul>\n  <li><code>:SSD</code> - Flash (SSD) storage.</li>\n  <li><code>:HDD</code> - Magnetic drive (HDD).</li>\n</ul>","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/cluster/job\">Google::Cloud::Bigtable::Cluster::Job</a>"],"description":""}]},{"id":"tables-instance","type":"instance","name":"tables","title":["Google","Cloud","Bigtable","Instance#tables"],"description":"<p>List all tables.</p>\n\n<p>See to delete table Google::Cloud::Bigtable::Table#delete and update\n table Google::Cloud::Bigtable::Table#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L435","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\n# Default name only view\ninstance.tables.all do |table|\n  puts table.name\nend\n\n# Full view\ninstance.tables(view: :FULL).all do |table|\n  puts table.name\n  puts table.column_families\nend"}],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigtable/table\">Google::Cloud::Bigtable::Table</a>&gt;"],"description":"(See <a data-custom-type=\"google/cloud/bigtable/table/list\">Google::Cloud::Bigtable::Table::List</a>)"}]},{"id":"table-instance","type":"instance","name":"table","title":["Google","Cloud","Bigtable","Instance#table"],"description":"","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L496","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"create_table-instance","type":"instance","name":"create_table","title":["Google","Cloud","Bigtable","Instance#create_table"],"description":"<p>Create table</p>\n\n<p>The table can be created with a full set of initial column families,\nspecified in the request.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L589","resources":[],"examples":[{"caption":"<p>Create table without column families.</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ntable = instance.create_table(\"my-table\")\nputs table.name"},{"caption":"<p>Create table with column families and initial splits.</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ntable = instance.create_table(my-table\") do |column_families|\n  column_families.add('cf1', Google::Cloud::Bigtable::GcRule.max_versions(3))\n  column_families.add('cf2', Google::Cloud::Bigtable::GcRule.max_age(100))\n\n  gc_rule = Google::Cloud::Bigtable::GcRule.new\n  gc_rule.union = [\n    Google::Cloud::Bigtable::GcRule.max_versions(3),\n     Google::Cloud::Bigtable::GcRule.max_age(1800),\n  ]\n  column_families.add('cf3', gc_rule)\nend\n\nputs table"}],"params":[{"name":"name","types":["String"],"description":"The name by which the new table should be referred to within the parent\ninstance, e.g., +foobar+","optional":false,"nullable":false},{"name":"column_families","types":["Hash{String => Google::Cloud::Bigtable::ColumnFamily}"],"description":"(See <a data-custom-type=\"google/cloud/bigtable/table/columnfamilymap\">Google::Cloud::Bigtable::Table::ColumnFamilyMap</a>)\nIf passed as an empty use code block to add column families.","optional":true,"default":"nil","nullable":true},{"name":"granularity","types":["Symbol"],"description":"The granularity at which timestamps are stored in this table.\nTimestamps not matching the granularity will be rejected.\nValid values are <code>:MILLIS</code>.\nIf unspecified, the value will be set to <code>:MILLIS</code>","optional":true,"default":"nil","nullable":true},{"name":"initial_splits","types":["Array<String>"],"description":"The optional list of row keys that will be used to initially split the\ntable into several tablets (tablets are similar to HBase regions).\nGiven two split keys, +s1+ and +s2+, three tablets will be created,\nspanning the key ranges: +[, s1), [s1, s2), [s2, )+.</p>\n\n<p>Example:</p>\n\n<ul>\n  <li>Row keys := +[“a”, “apple”, “custom”, “customer_1”, “customer_2”,+\n+”other”, “zz”]+</li>\n  <li>initial_split_keys := +[“apple”, “customer_1”, “customer_2”, “other”]+</li>\n  <li>Key assignment:\n    <ul>\n      <li>Tablet 1 : +[, apple)                =&gt; “a”.+</li>\n      <li>Tablet 2 : +[apple, customer_1)      =&gt; “apple”,.+</li>\n      <li>Tablet 3 : +[customer_1, customer_2) =&gt; “customer_1”.+</li>\n      <li>Tablet 4 : +[customer_2, other)      =&gt; “customer_2”.+</li>\n      <li>Tablet 5 : +[other, )                =&gt; “other”,.+\nA hash of the same form as <code>Google::Bigtable::Admin::V2::CreateTableRequest::Split</code>\ncan also be provided.</li>\n    </ul>\n  </li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"A block for adding column_families.","optional":true,"nullable":false},{"name":"yield.Cluster","types":["Hash{String => Google::Cloud::Bigtable::ColumnFamily}"],"description":"map of cluster name and cluster object.\n(See <a data-custom-type=\"google/cloud/bigtable/instance/clustermap\">Google::Cloud::Bigtable::Instance::ClusterMap</a>)\nGC Rules for column family see <a data-custom-type=\"google/cloud/bigtable/gcrule\">Google::Cloud::Bigtable::GcRule</a>)","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/table\">Google::Cloud::Bigtable::Table</a>"],"description":""}]},{"id":"create_app_profile-instance","type":"instance","name":"create_app_profile","title":["Google","Cloud","Bigtable","Instance#create_app_profile"],"description":"<p>Create app profile of instance with routing policy.\nOnly one routing policy can applied to app profile. It can be\nmulti cluster routing or single cluster routing</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L691","resources":[],"examples":[{"caption":"<p>Create app profile with single cluster routing policy</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\nrouting_policy = Google::Cloud::Bigtable::AppProfile.single_cluster_routing(\n  \"my-instance-cluster-1\"\n  allow_transactional_writes: true\n)\n\napp_profile = instance.create_app_profile(\n  \"my-app-profile\",\n  routing_policy: routing_policy,\n  description: \"App profile for user data instance\"\n)\nputs app_profile.name"},{"caption":"<p>Create app profile with multi cluster routing policy</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\nrouting_policy = Google::Cloud::Bigtable::AppProfile.multi_cluster_routing\n\napp_profile = instance.create_app_profile(\n  \"my-app-profile\",\n  routing_policy,\n  description: \"App profile for user data instance\"\n)\nputs app_profile.name"},{"caption":"<p>Create app profile and ignore warnings.</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\nrouting_policy = Google::Cloud::Bigtable::AppProfile.multi_cluster_routing\n\napp_profile = instance.create_app_profile(\n  \"my-app-profile\",\n  routing_policy,\n  description: \"App profile for user data instance\",\n  ignore_warnings: true\n)\nputs app_profile.name"}],"params":[{"name":"name","types":["String"],"description":"Unique Id of the app profile","optional":false,"nullable":false},{"name":"routing_policy","types":["Google::Bigtable::Admin::V2::AppProfile::SingleClusterRouting | Google::Bigtable::Admin::V2::AppProfile::MultiClusterRoutingUseAny"],"description":"The routing policy for all read/write requests which use this app profile.\nA value must be explicitly set.</p>\n\n<p>Routing Policies:</p>\n<ul>\n  <li><code>multi_cluster_routing</code> - Read/write requests may be routed to any\ncluster in the instance, and will fail over to another cluster in the event\nof transient errors or delays. Choosing this option sacrifices\nread-your-writes consistency to improve availability.</li>\n  <li><code>single_cluster_routing</code> - Unconditionally routes all read/write requests\nto a specific cluster. This option preserves read-your-writes consistency,\nbut does not improve availability.\nValue contain <code>cluster_id</code> and optional field <code>allow_transactional_writes</code>.</li>\n</ul>","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"Description of the use case for this AppProfile","optional":true,"default":"nil","nullable":true},{"name":"etag","types":["String"],"description":"Strongly validated etag for optimistic concurrency control. Preserve the\nvalue returned from <code>GetAppProfile</code> when calling <code>UpdateAppProfile</code> to\nfail the request if there has been a modification in the mean time. The\n<code>update_mask</code> of the request need not include <code>etag</code> for this protection\nto apply.\nSee <a href=\"https://en.wikipedia.org/wiki/HTTP_ETag\">Wikipedia</a> and\n<a href=\"https://tools.ietf.org/html/rfc7232#section-2.3\">RFC 7232</a> for more details.","optional":true,"default":"nil","nullable":true},{"name":"ignore_warnings","types":["Boolean"],"description":"If true, ignore safety checks when creating the app profile.\nDefault value is <code>false</code>","optional":true,"default":"false","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/appprofile\">Google::Cloud::Bigtable::AppProfile</a>"],"description":""}]},{"id":"app_profile-instance","type":"instance","name":"app_profile","title":["Google","Cloud","Bigtable","Instance#app_profile"],"description":"<p>Get app profile.</p>\n\n<p>See to delete app_profile Google::Cloud::Bigtable::AppProfile#delete and update\n app_profile Google::Cloud::Bigtable::AppProfile#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L743","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\napp_profile = instance.app_profile(\"my-app-profile\")\n\nif app_profile\n  puts app_profile.name\nend"}],"params":[{"name":"app_profile_id","types":["String"],"description":"The unique name of the requested app profile.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/appprofile\">Google::Cloud::Bigtable::AppProfile</a>","nil"],"description":""}]},{"id":"app_profiles-instance","type":"instance","name":"app_profiles","title":["Google","Cloud","Bigtable","Instance#app_profiles"],"description":"<p>List all app profiles</p>\n\n<p>See to delete app_profile Google::Cloud::Bigtable::AppProfile#delete and update\n app_profile Google::Cloud::Bigtable::AppProfile#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L770","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ninstance.app_profiles.all do |app_profile|\n  puts app_profile.name\nend"}],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigtable/appprofile\">Google::Cloud::Bigtable::AppProfile</a>&gt;"],"description":"(See <a data-custom-type=\"google/cloud/bigtable/appprofile/list\">Google::Cloud::Bigtable::AppProfile::List</a>)"}]},{"id":"policy-instance","type":"instance","name":"policy","title":["Google","Cloud","Bigtable","Instance#policy"],"description":"<p>Gets the <a href=\"https://cloud.google.com/iam/\">Cloud IAM</a> access control\npolicy for this instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L808","resources":[{"title":"","link":"https://cloud.google.com/bigtable/docs/access-control"}],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\npolicy = instance.policy"},{"caption":"<p>Update the policy by passing a block:</p>","code":"require \"google/cloud/spanner\"\n\nbigtable = Google::Cloud::Bigtable.new\ninstance = bigtable.instance(\"my-instance\")\n\ninstance.policy do |p|\n  p.add(\"roles/owner\", \"user:owner@example.com\")\nend # 2 API calls"}],"params":[{"name":"yield","types":["block"],"description":"A block for updating the policy. The latest policy\nwill be read from the Bigtable service and passed to the block. After\nthe block completes, the modified policy will be written to the\nservice.","optional":true,"nullable":false},{"name":"yield.policy","types":["Policy"],"description":"the current Cloud IAM Policy for this\ninstance","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/policy\">Policy</a>"],"description":"The current Cloud IAM Policy for this instance."}]},{"id":"update_policy-instance","type":"instance","name":"update_policy","title":["Google","Cloud","Bigtable","Instance#update_policy"],"description":"<p>Updates the <a href=\"https://cloud.google.com/iam/\">Cloud IAM</a> access control\npolicy for this instance. The policy should be read from <a data-custom-type=\"google/cloud/bigtable/instance\" data-method=\"policy-instance\">#policy</a>.\nSee <a data-custom-type=\"google/cloud/bigtable/policy\">Google::Cloud::Bigtable::Policy</a> for an explanation of the policy\n<code>etag</code> property and how to modify policies.</p>\n\n<p>You can also update the policy by passing a block to <a data-custom-type=\"google/cloud/bigtable/instance\" data-method=\"policy-instance\">#policy</a>, which\nwill call this method internally after the block completes.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L843","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\npolicy = instance.policy\npolicy.add(\"roles/owner\", \"user:owner@example.com\")\nupdated_policy = instance.update_policy(policy)\n\nputs update_policy.roles"}],"params":[{"name":"new_policy","types":["Policy"],"description":"a new or modified Cloud IAM Policy for this\ninstance","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/policy\">Policy</a>"],"description":"The policy returned by the API update operation."}]},{"id":"test_iam_permissions-instance","type":"instance","name":"test_iam_permissions","title":["Google","Cloud","Bigtable","Instance#test_iam_permissions"],"description":"<p>Tests the specified permissions against the <a href=\"https://cloud.google.com/iam/\">Cloud\nIAM</a> access control policy.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L886","resources":[{"title":"Managing\nPolicies","link":"https://cloud.google.com/iam/docs/managing-policies"}],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\npermissions = bigtable.test_permissions(\n  \"bigtable.instances.get\",\n  \"bigtable.instances.update\"\n)\npermissions.include? \"bigtable.instances.get\" #=> true\npermissions.include? \"bigtable.instances.update\" #=> false"}],"params":[{"name":"permissions","types":["String","Array<String>"],"description":"permissions The set of permissions to\ncheck access for. Permissions with wildcards (such as <code>*</code> or\n<code>bigtable.*</code>) are not allowed.\nSee (https://cloud.google.com/bigtable/docs/access-control)</p>\n\n<p>Some of the permissions that can be checked on a instance are:</p>\n<ul>\n  <li>bigtable.instances.create</li>\n  <li>bigtable.instances.list</li>\n  <li>bigtable.instances.get</li>\n  <li>bigtable.tables.create</li>\n  <li>bigtable.tables.delete</li>\n  <li>bigtable.tables.get</li>\n  <li>bigtable.tables.list</li>\n</ul>","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Array&lt;Strings&gt;"],"description":"The permissions that have access."}]}]}