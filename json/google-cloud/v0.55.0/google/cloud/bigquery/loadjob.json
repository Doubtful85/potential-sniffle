{"id":"google/cloud/bigquery/loadjob","name":"LoadJob","title":["Google","Cloud","Bigquery","LoadJob"],"description":"<h1 id=\"loadjob\">LoadJob</h1>\n\n<p>A <a data-custom-type=\"google/cloud/bigquery/job\">Job</a> subclass representing a load operation that may be performed\non a <a data-custom-type=\"google/cloud/bigquery/table\">Table</a>. A LoadJob instance is created when you call\n<a data-custom-type=\"google/cloud/bigquery/table\" data-method=\"load_job-instance\">Table#load_job</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L53","resources":[{"title":"Loading Data Into BigQuery","link":"https://cloud.google.com/bigquery/loading-data"},{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\n\ngs_url = \"gs://my-bucket/file-name.csv\"\nload_job = dataset.load_job \"my_new_table\", gs_url do |schema|\n  schema.string \"first_name\", mode: :required\n  schema.record \"cities_lived\", mode: :repeated do |nested_schema|\n    nested_schema.string \"place\", mode: :required\n    nested_schema.integer \"number_of_years\", mode: :required\n  end\nend\n\nload_job.wait_until_done!\nload_job.done? #=> true"}],"methods":[{"id":"sources-instance","type":"instance","name":"sources","title":["Google","Cloud","Bigquery","LoadJob#sources"],"description":"<p>The URI or URIs representing the Google Cloud Storage files from which\nthe operation loads data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L57","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"destination-instance","type":"instance","name":"destination","title":["Google","Cloud","Bigquery","LoadJob#destination"],"description":"<p>The table into which the operation loads data. This is the table on\nwhich <a data-custom-type=\"google/cloud/bigquery/table\" data-method=\"load_job-instance\">Table#load_job</a> was invoked.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L67","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/table\">Table</a>"],"description":"A table instance."}]},{"id":"delimiter-instance","type":"instance","name":"delimiter","title":["Google","Cloud","Bigquery","LoadJob#delimiter"],"description":"<p>The delimiter used between fields in the source data. The default is a\ncomma (,).</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L81","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"A string containing the character, such as <code>\",\"</code>."}]},{"id":"skip_leading_rows-instance","type":"instance","name":"skip_leading_rows","title":["Google","Cloud","Bigquery","LoadJob#skip_leading_rows"],"description":"<p>The number of rows at the top of a CSV file that BigQuery will skip\nwhen loading the data. The default value is 0. This property is useful\nif you have header rows in the file that should be skipped.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L93","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"The number of header rows at the top of a CSV file\nto skip."}]},{"id":"utf8?-instance","type":"instance","name":"utf8?","title":["Google","Cloud","Bigquery","LoadJob#utf8?"],"description":"<p>Checks if the character encoding of the data is UTF-8. This is the\ndefault.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L104","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the character encoding is UTF-8,\n<code>false</code> otherwise."}]},{"id":"iso8859_1?-instance","type":"instance","name":"iso8859_1?","title":["Google","Cloud","Bigquery","LoadJob#iso8859_1?"],"description":"<p>Checks if the character encoding of the data is ISO-8859-1.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L116","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the character encoding is ISO-8859-1,\n<code>false</code> otherwise."}]},{"id":"quote-instance","type":"instance","name":"quote","title":["Google","Cloud","Bigquery","LoadJob#quote"],"description":"<p>The value that is used to quote data sections in a CSV file. The\ndefault value is a double-quote (<code>\"</code>). If your data does not contain\nquoted sections, the value should be an empty string. If your data\ncontains quoted newline characters, <a data-custom-type=\"google/cloud/bigquery/loadjob\" data-method=\"quoted_newlines?-instance\">#quoted_newlines?</a> should return\n<code>true</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L130","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"A string containing the character, such as <code>\"\\\"\"</code>."}]},{"id":"max_bad_records-instance","type":"instance","name":"max_bad_records","title":["Google","Cloud","Bigquery","LoadJob#max_bad_records"],"description":"<p>The maximum number of bad records that the load operation can ignore.\nIf the number of bad records exceeds this value, an error is returned.\nThe default value is <code>0</code>, which requires that all records be valid.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L143","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"The maximum number of bad records."}]},{"id":"null_marker-instance","type":"instance","name":"null_marker","title":["Google","Cloud","Bigquery","LoadJob#null_marker"],"description":"<p>Specifies a string that represents a null value in a CSV file. For\nexample, if you specify <code>\\N</code>, BigQuery interprets <code>\\N</code> as a null value\nwhen loading a CSV file. The default value is the empty string. If you\nset this property to a custom value, BigQuery throws an error if an\nempty string is present for all data types except for STRING and BYTE.\nFor STRING and BYTE columns, BigQuery interprets the empty string as\nan empty value.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L160","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"A string representing null value in a CSV file."}]},{"id":"quoted_newlines?-instance","type":"instance","name":"quoted_newlines?","title":["Google","Cloud","Bigquery","LoadJob#quoted_newlines?"],"description":"<p>Checks if quoted data sections may contain newline characters in a CSV\nfile. The default is <code>false</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L173","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when quoted newlines are allowed, <code>false</code>\notherwise."}]},{"id":"autodetect?-instance","type":"instance","name":"autodetect?","title":["Google","Cloud","Bigquery","LoadJob#autodetect?"],"description":"<p>Checks if BigQuery should automatically infer the options and schema\nfor CSV and JSON sources. The default is <code>false</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L186","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when autodetect is enabled, <code>false</code>\notherwise."}]},{"id":"json?-instance","type":"instance","name":"json?","title":["Google","Cloud","Bigquery","LoadJob#json?"],"description":"<p>Checks if the format of the source data is <a href=\"http://jsonlines.org/\">newline-delimited\nJSON</a>. The default is <code>false</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L199","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the source format is\n<code>NEWLINE_DELIMITED_JSON</code>, <code>false</code> otherwise."}]},{"id":"csv?-instance","type":"instance","name":"csv?","title":["Google","Cloud","Bigquery","LoadJob#csv?"],"description":"<p>Checks if the format of the source data is CSV. The default is <code>true</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L210","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the source format is <code>CSV</code>, <code>false</code>\notherwise."}]},{"id":"backup?-instance","type":"instance","name":"backup?","title":["Google","Cloud","Bigquery","LoadJob#backup?"],"description":"<p>Checks if the source data is a Google Cloud Datastore backup.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L222","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the source format is <code>DATASTORE_BACKUP</code>,\n<code>false</code> otherwise."}]},{"id":"allow_jagged_rows?-instance","type":"instance","name":"allow_jagged_rows?","title":["Google","Cloud","Bigquery","LoadJob#allow_jagged_rows?"],"description":"<p>Checks if the load operation accepts rows that are missing trailing\noptional columns. The missing values are treated as nulls. If <code>false</code>,\nrecords with missing trailing columns are treated as bad records, and\nif there are too many bad records, an error is returned. The default\nvalue is <code>false</code>. Only applicable to CSV, ignored for other formats.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L237","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when jagged rows are allowed, <code>false</code>\notherwise."}]},{"id":"ignore_unknown_values?-instance","type":"instance","name":"ignore_unknown_values?","title":["Google","Cloud","Bigquery","LoadJob#ignore_unknown_values?"],"description":"<p>Checks if the load operation allows extra values that are not\nrepresented in the table schema. If <code>true</code>, the extra values are\nignored. If <code>false</code>, records with extra columns are treated as bad\nrecords, and if there are too many bad records, an invalid error is\nreturned. The default is <code>false</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L253","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when unknown values are ignored, <code>false</code>\notherwise."}]},{"id":"schema-instance","type":"instance","name":"schema","title":["Google","Cloud","Bigquery","LoadJob#schema"],"description":"<p>The schema for the destination table. The schema can be omitted if the\ndestination table already exists, or if you’re loading data from\nGoogle Cloud Datastore.</p>\n\n<p>The returned object is frozen and changes are not allowed. Use\n<a data-custom-type=\"google/cloud/bigquery/table\" data-method=\"schema-instance\">Table#schema</a> to update the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L269","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/schema\">Schema</a>","nil"],"description":"A schema object, or <code>nil</code>."}]},{"id":"schema_update_options-instance","type":"instance","name":"schema_update_options","title":["Google","Cloud","Bigquery","LoadJob#schema_update_options"],"description":"<p>Allows the schema of the destination table to be updated as a side\neffect of the load job if a schema is autodetected or supplied in the\njob configuration. Schema update options are supported in two cases:\nwhen write disposition is <code>WRITE_APPEND</code>; when write disposition is\n<code>WRITE_TRUNCATE</code> and the destination table is a partition of a table,\nspecified by partition decorators. For normal tables, <code>WRITE_TRUNCATE</code>\nwill always overwrite the schema. One or more of the following values\nare specified:</p>\n\n<ul>\n  <li><code>ALLOW_FIELD_ADDITION</code>: allow adding a nullable field to the schema.</li>\n  <li><code>ALLOW_FIELD_RELAXATION</code>: allow relaxing a required field in the\noriginal schema to nullable.</li>\n</ul>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L289","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;String&gt;"],"description":"An array of strings."}]},{"id":"input_files-instance","type":"instance","name":"input_files","title":["Google","Cloud","Bigquery","LoadJob#input_files"],"description":"<p>The number of source data files in the load job.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L298","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"The number of source files."}]},{"id":"input_file_bytes-instance","type":"instance","name":"input_file_bytes","title":["Google","Cloud","Bigquery","LoadJob#input_file_bytes"],"description":"<p>The number of bytes of source data in the load job.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L309","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"The number of bytes."}]},{"id":"output_rows-instance","type":"instance","name":"output_rows","title":["Google","Cloud","Bigquery","LoadJob#output_rows"],"description":"<p>The number of rows that have been loaded into the table. While an\nimport job is in the running state, this value may change.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L321","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"The number of rows that have been loaded."}]},{"id":"encryption-instance","type":"instance","name":"encryption","title":["Google","Cloud","Bigquery","LoadJob#encryption"],"description":"<p>The encryption configuration of the destination table.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L334","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Google::Cloud::BigQuery::EncryptionConfiguration"],"description":"Custom\nencryption configuration (e.g., Cloud KMS keys)."}]},{"id":"output_bytes-instance","type":"instance","name":"output_bytes","title":["Google","Cloud","Bigquery","LoadJob#output_bytes"],"description":"<p>The number of bytes that have been loaded into the table. While an\nimport job is in the running state, this value may change.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L346","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":"The number of bytes that have been loaded."}]},{"id":"time_partitioning?-instance","type":"instance","name":"time_partitioning?","title":["Google","Cloud","Bigquery","LoadJob#time_partitioning?"],"description":"<p>Checks if the destination table will be time-partitioned. See\n<a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned Tables</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L361","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean","nil"],"description":"<code>true</code> when the table will be time-partitioned,\nor <code>false</code> otherwise."}]},{"id":"time_partitioning_type-instance","type":"instance","name":"time_partitioning_type","title":["Google","Cloud","Bigquery","LoadJob#time_partitioning_type"],"description":"<p>The period for which the destination table will be partitioned, if\nany. See <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned Tables</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L374","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String","nil"],"description":"The partition type. Currently the only supported\nvalue is “DAY”, or <code>nil</code> if not present."}]},{"id":"time_partitioning_field-instance","type":"instance","name":"time_partitioning_field","title":["Google","Cloud","Bigquery","LoadJob#time_partitioning_field"],"description":"<p>The field on which the destination table will be partitioned, if any.\nIf not set, the destination table will be partitioned by pseudo column\n<code>_PARTITIONTIME</code>; if set, the table will be partitioned by this field.\nSee <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned Tables</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L390","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String","nil"],"description":"The partition field, if a field was configured.\n<code>nil</code> if not partitioned or not set (partitioned by pseudo column\n‘_PARTITIONTIME’)."}]},{"id":"time_partitioning_expiration-instance","type":"instance","name":"time_partitioning_expiration","title":["Google","Cloud","Bigquery","LoadJob#time_partitioning_expiration"],"description":"<p>The expiration for the destination table partitions, if any, in\nseconds. See <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned\nTables</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L404","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer","nil"],"description":"The expiration time, in seconds, for data in\npartitions, or <code>nil</code> if not present."}]},{"id":"time_partitioning_require_filter?-instance","type":"instance","name":"time_partitioning_require_filter?","title":["Google","Cloud","Bigquery","LoadJob#time_partitioning_require_filter?"],"description":"<p>If set to true, queries over the destination table will require a\npartition filter that can be used for partition elimination to be\nspecified. See <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables\">Partitioned\nTables</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/load_job.rb#L421","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when a partition filter will be required,\nor <code>false</code> otherwise."}]}]}