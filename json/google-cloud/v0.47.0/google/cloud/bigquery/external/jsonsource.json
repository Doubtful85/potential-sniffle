{"id":"google/cloud/bigquery/external/jsonsource","name":"JsonSource","title":["Google","Cloud","Bigquery","External","JsonSource"],"description":"<h1 id=\"jsonsource\">JsonSource</h1>\n\n<p><a data-custom-type=\"google/cloud/bigquery/external/jsonsource\">External::JsonSource</a> is a subclass of <a data-custom-type=\"google/cloud/bigquery/external/datasource\">External::DataSource</a> and\nrepresents a JSON external data source that can be queried from\ndirectly, such as Google Cloud Storage or Google Drive, even though\nthe data is not stored in BigQuery. Instead of loading or streaming\nthe data, this object references the external data source.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L1038","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\nrequire \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\njson_url = \"gs://bucket/path/to/data.json\"\njson_table = bigquery.external json_url do |json|\n  json.schema do |schema|\n    schema.string \"name\", mode: :required\n    schema.string \"email\", mode: :required\n    schema.integer \"age\", mode: :required\n    schema.boolean \"active\", mode: :required\n  end\nend\n\ndata = bigquery.query \"SELECT * FROM my_ext_table\",\n                      external: { my_ext_table: json_table }\n\ndata.each do |row|\n  puts row[:name]\nend"}],"methods":[{"id":"schema-instance","type":"instance","name":"schema","title":["Google","Cloud","Bigquery","External","JsonSource#schema"],"description":"<p>The schema for the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L1066","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\njson_url = \"gs://bucket/path/to/data.json\"\njson_table = bigquery.external json_url do |json|\n  json.schema do |schema|\n    schema.string \"name\", mode: :required\n    schema.string \"email\", mode: :required\n    schema.integer \"age\", mode: :required\n    schema.boolean \"active\", mode: :required\n  end\nend"}],"params":[{"name":"replace","types":["Boolean"],"description":"Whether to replace the existing schema with\nthe new schema. If <code>true</code>, the fields will replace the existing\nschema. If <code>false</code>, the fields will be added to the existing\nschema. The default value is <code>false</code>.","optional":true,"default":"false","nullable":false},{"name":"yield","types":["block"],"description":"a block for setting the schema","optional":true,"nullable":false},{"name":"yield.schema","types":["Schema"],"description":"the object accepting the schema","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/schema\">Google::Cloud::Bigquery::Schema</a>"],"description":""}]},{"id":"schema=-instance","type":"instance","name":"schema=","title":["Google","Cloud","Bigquery","External","JsonSource#schema="],"description":"<p>Set the schema for the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L1098","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\njson_shema = bigquery.schema do |schema|\n  schema.string \"name\", mode: :required\n  schema.string \"email\", mode: :required\n  schema.integer \"age\", mode: :required\n  schema.boolean \"active\", mode: :required\nend\n\njson_url = \"gs://bucket/path/to/data.json\"\njson_table = bigquery.external json_url\njson_table.schema = json_shema"}],"params":[{"name":"new_schema","types":["Schema"],"description":"The schema object.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"fields-instance","type":"instance","name":"fields","title":["Google","Cloud","Bigquery","External","JsonSource#fields"],"description":"<p>The fields of the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L1106","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"headers-instance","type":"instance","name":"headers","title":["Google","Cloud","Bigquery","External","JsonSource#headers"],"description":"<p>The names of the columns in the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L1113","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]}]}