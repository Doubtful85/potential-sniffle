{"id":"google/cloud/bigquery/external/csvsource","name":"CsvSource","title":["Google","Cloud","Bigquery","External","CsvSource"],"description":"<h1 id=\"csvsource\">CsvSource</h1>\n\n<p><a data-custom-type=\"google/cloud/bigquery/external/csvsource\">External::CsvSource</a> is a subclass of <a data-custom-type=\"google/cloud/bigquery/external/datasource\">External::DataSource</a> and\nrepresents a CSV external data source that can be queried from\ndirectly, such as Google Cloud Storage or Google Drive, even though\nthe data is not stored in BigQuery. Instead of loading or streaming\nthe data, this object references the external data source.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L591","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.autodetect = true\n  csv.skip_leading_rows = 1\nend\n\ndata = bigquery.query \"SELECT * FROM my_ext_table\",\n                      external: { my_ext_table: csv_table }\n\ndata.each do |row|\n  puts row[:name]\nend"}],"methods":[{"id":"jagged_rows-instance","type":"instance","name":"jagged_rows","title":["Google","Cloud","Bigquery","External","CsvSource#jagged_rows"],"description":"<p>Indicates if BigQuery should accept rows that are missing trailing\noptional columns.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L617","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.jagged_rows = true\nend\n\ncsv_table.jagged_rows #=> true"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"jagged_rows=-instance","type":"instance","name":"jagged_rows=","title":["Google","Cloud","Bigquery","External","CsvSource#jagged_rows="],"description":"<p>Set whether BigQuery should accept rows that are missing trailing\noptional columns.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L639","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.jagged_rows = true\nend\n\ncsv_table.jagged_rows #=> true"}],"params":[{"name":"new_jagged_rows","types":["Boolean"],"description":"New jagged_rows value","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"quoted_newlines-instance","type":"instance","name":"quoted_newlines","title":["Google","Cloud","Bigquery","External","CsvSource#quoted_newlines"],"description":"<p>Indicates if BigQuery should allow quoted data sections that contain\nnewline characters in a CSV file.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L662","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.quoted_newlines = true\nend\n\ncsv_table.quoted_newlines #=> true"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"quoted_newlines=-instance","type":"instance","name":"quoted_newlines=","title":["Google","Cloud","Bigquery","External","CsvSource#quoted_newlines="],"description":"<p>Set whether BigQuery should allow quoted data sections that contain\nnewline characters in a CSV file.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L684","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.quoted_newlines = true\nend\n\ncsv_table.quoted_newlines #=> true"}],"params":[{"name":"new_quoted_newlines","types":["Boolean"],"description":"New quoted_newlines value","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"encoding-instance","type":"instance","name":"encoding","title":["Google","Cloud","Bigquery","External","CsvSource#encoding"],"description":"<p>The character encoding of the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L706","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.encoding = \"UTF-8\"\nend\n\ncsv_table.encoding #=> \"UTF-8\""}],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"encoding=-instance","type":"instance","name":"encoding=","title":["Google","Cloud","Bigquery","External","CsvSource#encoding="],"description":"<p>Set the character encoding of the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L727","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.encoding = \"UTF-8\"\nend\n\ncsv_table.encoding #=> \"UTF-8\""}],"params":[{"name":"new_encoding","types":["String"],"description":"New encoding value","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"utf8?-instance","type":"instance","name":"utf8?","title":["Google","Cloud","Bigquery","External","CsvSource#utf8?"],"description":"<p>Checks if the character encoding of the data is “UTF-8”. This is the\ndefault.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L751","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.encoding = \"UTF-8\"\nend\n\ncsv_table.encoding #=> \"UTF-8\"\ncsv_table.utf8? #=> true"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"iso8859_1?-instance","type":"instance","name":"iso8859_1?","title":["Google","Cloud","Bigquery","External","CsvSource#iso8859_1?"],"description":"<p>Checks if the character encoding of the data is “ISO-8859-1”.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L774","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.encoding = \"ISO-8859-1\"\nend\n\ncsv_table.encoding #=> \"ISO-8859-1\"\ncsv_table.iso8859_1? #=> true"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"delimiter-instance","type":"instance","name":"delimiter","title":["Google","Cloud","Bigquery","External","CsvSource#delimiter"],"description":"<p>The separator for fields in a CSV file.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L795","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.delimiter = \"|\"\nend\n\ncsv_table.delimiter #=> \"|\""}],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"delimiter=-instance","type":"instance","name":"delimiter=","title":["Google","Cloud","Bigquery","External","CsvSource#delimiter="],"description":"<p>Set the separator for fields in a CSV file.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L816","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.delimiter = \"|\"\nend\n\ncsv_table.delimiter #=> \"|\""}],"params":[{"name":"new_delimiter","types":["String"],"description":"New delimiter value","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"quote-instance","type":"instance","name":"quote","title":["Google","Cloud","Bigquery","External","CsvSource#quote"],"description":"<p>The value that is used to quote data sections in a CSV file.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L838","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.quote = \"'\"\nend\n\ncsv_table.quote #=> \"'\""}],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"quote=-instance","type":"instance","name":"quote=","title":["Google","Cloud","Bigquery","External","CsvSource#quote="],"description":"<p>Set the value that is used to quote data sections in a CSV file.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L859","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.quote = \"'\"\nend\n\ncsv_table.quote #=> \"'\""}],"params":[{"name":"new_quote","types":["String"],"description":"New quote value","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"skip_leading_rows-instance","type":"instance","name":"skip_leading_rows","title":["Google","Cloud","Bigquery","External","CsvSource#skip_leading_rows"],"description":"<p>The number of rows at the top of a CSV file that BigQuery will skip\nwhen reading the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L882","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.skip_leading_rows = 1\nend\n\ncsv_table.skip_leading_rows #=> 1"}],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":""}]},{"id":"skip_leading_rows=-instance","type":"instance","name":"skip_leading_rows=","title":["Google","Cloud","Bigquery","External","CsvSource#skip_leading_rows="],"description":"<p>Set the number of rows at the top of a CSV file that BigQuery will\nskip when reading the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L904","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.skip_leading_rows = 1\nend\n\ncsv_table.skip_leading_rows #=> 1"}],"params":[{"name":"row_count","types":["Integer"],"description":"New skip_leading_rows value","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"schema-instance","type":"instance","name":"schema","title":["Google","Cloud","Bigquery","External","CsvSource#schema"],"description":"<p>The schema for the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L936","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url do |csv|\n  csv.schema do |schema|\n    schema.string \"name\", mode: :required\n    schema.string \"email\", mode: :required\n    schema.integer \"age\", mode: :required\n    schema.boolean \"active\", mode: :required\n  end\nend"}],"params":[{"name":"replace","types":["Boolean"],"description":"Whether to replace the existing schema with\nthe new schema. If <code>true</code>, the fields will replace the existing\nschema. If <code>false</code>, the fields will be added to the existing\nschema. The default value is <code>false</code>.","optional":true,"default":"false","nullable":false},{"name":"yield","types":["block"],"description":"a block for setting the schema","optional":true,"nullable":false},{"name":"yield.schema","types":["Schema"],"description":"the object accepting the schema","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/schema\">Google::Cloud::Bigquery::Schema</a>"],"description":""}]},{"id":"schema=-instance","type":"instance","name":"schema=","title":["Google","Cloud","Bigquery","External","CsvSource#schema="],"description":"<p>Set the schema for the data.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L968","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\n\ncsv_shema = bigquery.schema do |schema|\n  schema.string \"name\", mode: :required\n  schema.string \"email\", mode: :required\n  schema.integer \"age\", mode: :required\n  schema.boolean \"active\", mode: :required\nend\n\ncsv_url = \"gs://bucket/path/to/data.csv\"\ncsv_table = bigquery.external csv_url\ncsv_table.schema = csv_shema"}],"params":[{"name":"new_schema","types":["Schema"],"description":"The schema object.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"fields-instance","type":"instance","name":"fields","title":["Google","Cloud","Bigquery","External","CsvSource#fields"],"description":"<p>The fields of the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L976","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"headers-instance","type":"instance","name":"headers","title":["Google","Cloud","Bigquery","External","CsvSource#headers"],"description":"<p>The names of the columns in the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/external.rb#L983","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]}]}