{"id":"google/cloud/bigquery/view","name":"View","title":["Google","Cloud","Bigquery","View"],"description":"<h1 id=\"view\">View</h1>\n\n<p>A view is a virtual table defined by a SQL query. You can query views in\nthe browser tool, or by using a query job.</p>\n\n<p>BigQuery’s views are logical views, not materialized views, which means\nthat the query that defines the view is re-executed every time the view\nis queried. Queries are billed according to the total amount of data in\nall table fields referenced directly or indirectly by the top-level\nquery.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L44","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.create_view \"my_view\",\n         \"SELECT name, age FROM `my_project.my_dataset.my_table`\""}],"methods":[{"id":"table_id-instance","type":"instance","name":"table_id","title":["Google","Cloud","Bigquery","View#table_id"],"description":"<p>A unique ID for this view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L68","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The ID must contain only letters (a-z, A-Z), numbers\n(0-9), or underscores (_). The maximum length is 1,024 characters."}]},{"id":"dataset_id-instance","type":"instance","name":"dataset_id","title":["Google","Cloud","Bigquery","View#dataset_id"],"description":"<p>The ID of the <code>Dataset</code> containing this view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L80","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The ID must contain only letters (a-z, A-Z), numbers\n(0-9), or underscores (_). The maximum length is 1,024 characters."}]},{"id":"project_id-instance","type":"instance","name":"project_id","title":["Google","Cloud","Bigquery","View#project_id"],"description":"<p>The ID of the <code>Project</code> containing this view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L91","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The project ID."}]},{"id":"id-instance","type":"instance","name":"id","title":["Google","Cloud","Bigquery","View#id"],"description":"<p>The combined Project ID, Dataset ID, and Table ID for this view, in\nthe format specified by the <a href=\"https://cloud.google.com/bigquery/query-reference#from\">Legacy SQL Query\nReference</a>:\n<code>project_name:datasetId.tableId</code>. To use this value in queries see\n<a data-custom-type=\"google/cloud/bigquery/view\" data-method=\"query_id-instance\">#query_id</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L113","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"query_id-instance","type":"instance","name":"query_id","title":["Google","Cloud","Bigquery","View#query_id"],"description":"<p>The value returned by <a data-custom-type=\"google/cloud/bigquery/view\" data-method=\"id-instance\">#id</a>, wrapped in square brackets if the Project\nID contains dashes, as specified by the <a href=\"https://cloud.google.com/bigquery/query-reference#from\">Query\nReference</a>.\nUseful in queries.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L143","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\ndata = bigquery.query \"SELECT name FROM #{view.query_id}\""}],"params":[{"name":"standard_sql","types":["Boolean"],"description":"Specifies whether to use BigQuery’s\n<a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/\">standard\nSQL</a>\ndialect. Optional. The default value is true.","optional":true,"default":"nil","nullable":true},{"name":"legacy_sql","types":["Boolean"],"description":"Specifies whether to use BigQuery’s\n<a href=\"https://cloud.google.com/bigquery/docs/reference/legacy-sql\">legacy\nSQL</a>\ndialect. Optional. The default value is false.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"id":"name-instance","type":"instance","name":"name","title":["Google","Cloud","Bigquery","View#name"],"description":"<p>The name of the view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L158","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The friendly name."}]},{"id":"name=-instance","type":"instance","name":"name=","title":["Google","Cloud","Bigquery","View#name="],"description":"<p>Updates the name of the view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L169","resources":[],"examples":[],"params":[{"name":"new_name","types":["String"],"description":"The new friendly name.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"etag-instance","type":"instance","name":"etag","title":["Google","Cloud","Bigquery","View#etag"],"description":"<p>The ETag hash of the view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L181","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The ETag hash."}]},{"id":"api_url-instance","type":"instance","name":"api_url","title":["Google","Cloud","Bigquery","View#api_url"],"description":"<p>A URL that can be used to access the view using the REST API.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L193","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"A REST URL for the resource."}]},{"id":"description-instance","type":"instance","name":"description","title":["Google","Cloud","Bigquery","View#description"],"description":"<p>A user-friendly description of the view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L205","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The description."}]},{"id":"description=-instance","type":"instance","name":"description=","title":["Google","Cloud","Bigquery","View#description="],"description":"<p>Updates the user-friendly description of the view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L217","resources":[],"examples":[],"params":[{"name":"new_description","types":["String"],"description":"The new user-friendly description.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"created_at-instance","type":"instance","name":"created_at","title":["Google","Cloud","Bigquery","View#created_at"],"description":"<p>The time when this view was created.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L229","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/time\">Time</a>","nil"],"description":"The creation time."}]},{"id":"expires_at-instance","type":"instance","name":"expires_at","title":["Google","Cloud","Bigquery","View#expires_at"],"description":"<p>The time when this view expires.\nIf not present, the view will persist indefinitely.\nExpired views will be deleted and their storage reclaimed.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L247","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/time\">Time</a>","nil"],"description":"The expiration time."}]},{"id":"modified_at-instance","type":"instance","name":"modified_at","title":["Google","Cloud","Bigquery","View#modified_at"],"description":"<p>The date when this view was last modified.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L263","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/time\">Time</a>","nil"],"description":"The last modified time."}]},{"id":"table?-instance","type":"instance","name":"table?","title":["Google","Cloud","Bigquery","View#table?"],"description":"<p>Checks if the view’s type is “TABLE”.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L279","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the type is <code>TABLE</code>, <code>false</code> otherwise."}]},{"id":"view?-instance","type":"instance","name":"view?","title":["Google","Cloud","Bigquery","View#view?"],"description":"<p>Checks if the view’s type is “VIEW”.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L290","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the type is <code>VIEW</code>, <code>false</code> otherwise."}]},{"id":"external?-instance","type":"instance","name":"external?","title":["Google","Cloud","Bigquery","View#external?"],"description":"<p>Checks if the view’s type is “EXTERNAL”.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L302","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when the type is <code>EXTERNAL</code>, <code>false</code>\notherwise."}]},{"id":"location-instance","type":"instance","name":"location","title":["Google","Cloud","Bigquery","View#location"],"description":"<p>The geographic location where the view should reside. Possible\nvalues include <code>EU</code> and <code>US</code>. The default value is <code>US</code>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L314","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The location code."}]},{"id":"labels-instance","type":"instance","name":"labels","title":["Google","Cloud","Bigquery","View#labels"],"description":"<p>A hash of user-provided labels associated with this view. Labels\nare used to organize and group views and views. See <a href=\"https://cloud.google.com/bigquery/docs/labels\">Using\nLabels</a>.</p>\n\n<p>The returned hash is frozen and changes are not allowed. Use\n<a data-custom-type=\"google/cloud/bigquery/view\" data-method=\"labels=-instance\">#labels=</a> to replace the entire hash.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L341","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nlabels = view.labels\nlabels[\"department\"] #=> \"shipping\""}],"params":[],"exceptions":[],"returns":[{"types":["Hash&lt;String, String&gt;"],"description":"A hash containing key/value pairs."}]},{"id":"labels=-instance","type":"instance","name":"labels=","title":["Google","Cloud","Bigquery","View#labels="],"description":"<p>Updates the hash of user-provided labels associated with this view.\nLabels are used to organize and group tables and views. See <a href=\"https://cloud.google.com/bigquery/docs/labels\">Using\nLabels</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L373","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nview.labels = { \"department\" => \"shipping\" }"}],"params":[{"name":"labels","types":["Hash<String, String>"],"description":"A hash containing key/value\npairs.</p>\n\n<ul>\n  <li>Label keys and values can be no longer than 63 characters.</li>\n  <li>Label keys and values can contain only lowercase letters, numbers,\nunderscores, hyphens, and international characters.</li>\n  <li>Label keys and values cannot exceed 128 bytes in size.</li>\n  <li>Label keys must begin with a letter.</li>\n  <li>Label keys must be unique within a view.</li>\n</ul>","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"schema-instance","type":"instance","name":"schema","title":["Google","Cloud","Bigquery","View#schema"],"description":"<p>The schema of the view.</p>\n\n<p>The returned object is frozen and changes are not allowed.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L398","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nschema = view.schema\nfield = schema.field \"name\"\nfield.required? #=> true"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/schema\">Schema</a>"],"description":"A schema object."}]},{"id":"fields-instance","type":"instance","name":"fields","title":["Google","Cloud","Bigquery","View#fields"],"description":"<p>The fields of the view, obtained from its schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L421","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nview.fields.each do |field|\n  puts field.name\nend"}],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigquery/schema/field\">Schema::Field</a>&gt;"],"description":"An array of field objects."}]},{"id":"headers-instance","type":"instance","name":"headers","title":["Google","Cloud","Bigquery","View#headers"],"description":"<p>The names of the columns in the view, obtained from its schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L443","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nview.headers.each do |header|\n  puts header\nend"}],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;Symbol&gt;"],"description":"An array of column names."}]},{"id":"query-instance","type":"instance","name":"query","title":["Google","Cloud","Bigquery","View#query"],"description":"<p>The query that executes each time the view is loaded.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L454","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The query that defines the view."}]},{"id":"query=-instance","type":"instance","name":"query=","title":["Google","Cloud","Bigquery","View#query="],"description":"<p>Updates the query that executes each time the view is loaded.</p>\n\n<p>This sets the query using standard SQL. To specify legacy SQL or to\nuse user-defined function resources use (#set_query) instead.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L481","resources":[{"title":"BigQuery Query\nReference","link":"https://cloud.google.com/bigquery/query-reference"}],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nview.query = \"SELECT first_name FROM \" \\\n               \"`my_project.my_dataset.my_table`\""}],"params":[{"name":"new_query","types":["String"],"description":"The query that defines the view.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"set_query-instance","type":"instance","name":"set_query","title":["Google","Cloud","Bigquery","View#set_query"],"description":"<p>Updates the query that executes each time the view is loaded. Allows\nsetting of standard vs. legacy SQL and user-defined function\nresources.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L523","resources":[{"title":"BigQuery Query\nReference","link":"https://cloud.google.com/bigquery/query-reference"}],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nview.set_query \"SELECT first_name FROM \" \\\n                 \"`my_project.my_dataset.my_table`\",\n               standard_sql: true"}],"params":[{"name":"query","types":["String"],"description":"The query that defines the view.","optional":false,"nullable":false},{"name":"standard_sql","types":["Boolean"],"description":"Specifies whether to use BigQuery’s\n<a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/\">standard\nSQL</a>\ndialect. Optional. The default value is true.","optional":true,"default":"nil","nullable":true},{"name":"legacy_sql","types":["Boolean"],"description":"Specifies whether to use BigQuery’s\n<a href=\"https://cloud.google.com/bigquery/docs/reference/legacy-sql\">legacy\nSQL</a>\ndialect. Optional. The default value is false.","optional":true,"default":"nil","nullable":true},{"name":"udfs","types":["Array<String>","String"],"description":"User-defined function resources\nused in the query. May be either a code resource to load from a\nGoogle Cloud Storage URI (<code>gs://bucket/path</code>), or an inline resource\nthat contains code for a user-defined function (UDF). Providing an\ninline code resource is equivalent to providing a URI for a file\ncontaining the same code. See <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions\">User-Defined\nFunctions</a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"id":"query_legacy_sql?-instance","type":"instance","name":"query_legacy_sql?","title":["Google","Cloud","Bigquery","View#query_legacy_sql?"],"description":"<p>Checks if the view’s query is using legacy sql.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L539","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when legacy sql is used, <code>false</code> otherwise."}]},{"id":"query_standard_sql?-instance","type":"instance","name":"query_standard_sql?","title":["Google","Cloud","Bigquery","View#query_standard_sql?"],"description":"<p>Checks if the view’s query is using standard sql.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L552","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when standard sql is used, <code>false</code> otherwise."}]},{"id":"query_udfs-instance","type":"instance","name":"query_udfs","title":["Google","Cloud","Bigquery","View#query_udfs"],"description":"<p>The user-defined function resources used in the view’s query. May be\neither a code resource to load from a Google Cloud Storage URI\n(<code>gs://bucket/path</code>), or an inline resource that contains code for a\nuser-defined function (UDF). Providing an inline code resource is\nequivalent to providing a URI for a file containing the same code. See\n<a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions\">User-Defined\nFunctions</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L570","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;String&gt;"],"description":"An array containing Google Cloud Storage URIs\nand/or inline source code."}]},{"id":"data-instance","type":"instance","name":"data","title":["Google","Cloud","Bigquery","View#data"],"description":"<p>Runs a query to retrieve all data from the view, in a synchronous\nmethod that blocks for a response. In this method, a <a data-custom-type=\"google/cloud/bigquery/queryjob\">QueryJob</a> is\ncreated and its results are saved to a temporary table, then read from\nthe table. Timeouts and transient errors are generally handled as\nneeded to complete the query.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L612","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\ndata = view.data\ndata.each do |row|\n  puts row[:first_name]\nend\nmore_data = data.next if data.next?"}],"params":[{"name":"max","types":["Integer"],"description":"The maximum number of rows of data to return per\npage of results. Setting this flag to a small value such as 1000 and\nthen paging through results might improve reliability when the query\nresult set is large. In addition to this limit, responses are also\nlimited to 10 MB. By default, there is no maximum row count, and\nonly the byte limit applies.","optional":true,"default":"nil","nullable":true},{"name":"cache","types":["Boolean"],"description":"Whether to look for the result in the query\ncache. The query cache is a best-effort cache that will be flushed\nwhenever tables in the query are modified. The default value is\ntrue. For more information, see <a href=\"https://developers.google.com/bigquery/querying-data\">query\ncaching</a>.","optional":true,"default":"true","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/data\">Google::Cloud::Bigquery::Data</a>"],"description":""}]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Bigquery","View#delete"],"description":"<p>Permanently deletes the view.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L649","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nview.delete"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the view was deleted."}]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Bigquery","View#reload!"],"description":"<p>Reloads the view with current data from the BigQuery service.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/view.rb#L660","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]}]}