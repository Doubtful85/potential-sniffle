{"id":"google/cloud/bigquery/schema","name":"Schema","title":["Google","Cloud","Bigquery","Schema"],"description":"<h1 id=\"table-schema\">Table Schema</h1>\n\n<p>A builder for BigQuery table schemas, passed to block arguments to\n<a data-custom-type=\"google/cloud/bigquery/dataset\" data-method=\"create_table-instance\">Dataset#create_table</a> and <a data-custom-type=\"google/cloud/bigquery/table\" data-method=\"schema-instance\">Table#schema</a>. Supports nested and\nrepeated fields via a nested block.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L46","resources":[{"title":"Preparing Data for BigQuery","link":"https://cloud.google.com/bigquery/preparing-data-for-bigquery"}],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.create_table \"my_table\"\n\ntable.schema do |schema|\n  schema.string \"first_name\", mode: :required\n  schema.record \"cities_lived\", mode: :repeated do |cities_lived|\n    cities_lived.string \"place\", mode: :required\n    cities_lived.integer \"number_of_years\", mode: :required\n  end\nend"}],"methods":[{"id":"fields-instance","type":"instance","name":"fields","title":["Google","Cloud","Bigquery","Schema#fields"],"description":"<p>The fields of the table schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L65","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\n\nschema = table.schema\n\nschema.fields.each do |field|\n  puts field.name\nend"}],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigquery/schema/field\">Field</a>&gt;"],"description":"An array of field objects."}]},{"id":"headers-instance","type":"instance","name":"headers","title":["Google","Cloud","Bigquery","Schema#headers"],"description":"<p>The names of the fields as symbols.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L91","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.create_table \"my_table\"\n\nschema = table.schema\n\nschema.headers.each do |header|\n  puts header\nend"}],"params":[],"exceptions":[],"returns":[{"types":["Array&lt;Symbol&gt;"],"description":"An array of column names."}]},{"id":"field-instance","type":"instance","name":"field","title":["Google","Cloud","Bigquery","Schema#field"],"description":"<p>Retrieve a field by name.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L110","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\n\nfield = table.schema.field \"name\"\nfield.required? #=> true"}],"params":[{"name":"yield","types":["block"],"description":"","optional":true,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/schema/field\">Field</a>"],"description":"A field object."}]},{"id":"empty?-instance","type":"instance","name":"empty?","title":["Google","Cloud","Bigquery","Schema#empty?"],"description":"<p>Whether the schema has no fields defined.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L122","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"<code>true</code> when there are no fields, <code>false</code> otherwise."}]},{"id":"string-instance","type":"instance","name":"string","title":["Google","Cloud","Bigquery","Schema#string"],"description":"<p>Adds a string field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L138","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"integer-instance","type":"instance","name":"integer","title":["Google","Cloud","Bigquery","Schema#integer"],"description":"<p>Adds an integer field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L154","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"float-instance","type":"instance","name":"float","title":["Google","Cloud","Bigquery","Schema#float"],"description":"<p>Adds a floating-point number field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L170","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"boolean-instance","type":"instance","name":"boolean","title":["Google","Cloud","Bigquery","Schema#boolean"],"description":"<p>Adds a boolean field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L186","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"bytes-instance","type":"instance","name":"bytes","title":["Google","Cloud","Bigquery","Schema#bytes"],"description":"<p>Adds a bytes field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L202","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"timestamp-instance","type":"instance","name":"timestamp","title":["Google","Cloud","Bigquery","Schema#timestamp"],"description":"<p>Adds a timestamp field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L217","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"time-instance","type":"instance","name":"time","title":["Google","Cloud","Bigquery","Schema#time"],"description":"<p>Adds a time field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L233","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"datetime-instance","type":"instance","name":"datetime","title":["Google","Cloud","Bigquery","Schema#datetime"],"description":"<p>Adds a datetime field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L249","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"date-instance","type":"instance","name":"date","title":["Google","Cloud","Bigquery","Schema#date"],"description":"<p>Adds a date field to the schema.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L265","resources":[],"examples":[],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":":nullable","nullable":false}],"exceptions":[],"returns":[]},{"id":"record-instance","type":"instance","name":"record","title":["Google","Cloud","Bigquery","Schema#record"],"description":"<p>Adds a record field to the schema. A block must be passed describing\nthe nested fields of the record. For more information about nested\nand repeated records, see <a href=\"https://cloud.google.com/bigquery/preparing-data-for-bigquery\">Preparing Data for BigQuery\n</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/schema.rb#L302","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigquery\"\n\nbigquery = Google::Cloud::Bigquery.new\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.create_table \"my_table\"\n\ntable.schema do |schema|\n  schema.string \"first_name\", mode: :required\n  schema.record \"cities_lived\", mode: :repeated do |cities_lived|\n    cities_lived.string \"place\", mode: :required\n    cities_lived.integer \"number_of_years\", mode: :required\n  end\nend"}],"params":[{"name":"name","types":["String"],"description":"The field name. The name must contain only\nletters (a-z, A-Z), numbers (0-9), or underscores (_), and must\nstart with a letter or underscore. The maximum length is 128\ncharacters.","optional":false,"nullable":false},{"name":"description","types":["String"],"description":"A description of the field.","optional":true,"default":"nil","nullable":true},{"name":"mode","types":["Symbol"],"description":"The field’s mode. The possible values are\n<code>:nullable</code>, <code>:required</code>, and <code>:repeated</code>. The default value is\n<code>:nullable</code>.","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"a block for setting the nested record’s schema","optional":true,"nullable":false},{"name":"yield.field","types":["Field"],"description":"the object accepting the\nnested schema","optional":false,"nullable":false}],"exceptions":[{"type":"ArgumentError","description":""}],"returns":[]}]}