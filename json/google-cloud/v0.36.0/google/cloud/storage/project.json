{"id":"google/cloud/storage/project","name":"Project","title":["Google","Cloud","Storage","Project"],"description":"<h1 id=\"project\">Project</h1>\n\n<p>Represents the project that storage buckets and files belong to.\nAll data in Google Cloud Storage belongs inside a project.\nA project consists of a set of users, a set of APIs, billing,\nauthentication, and monitoring settings for those APIs.</p>\n\n<p>Google::Cloud::Storage::Project is the main object for interacting with\nGoogle Storage. <a data-custom-type=\"google/cloud/storage/bucket\">Google::Cloud::Storage::Bucket</a> objects are created,\nread, updated, and deleted by Google::Cloud::Storage::Project.</p>\n\n<p>See Google::Cloud#storage</p>","source":"google-cloud-storage/lib/google/cloud/storage/project.rb#L49","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\nfile = bucket.file \"path/to/my-file.ext\""}],"methods":[{"id":"project-instance","type":"instance","name":"project","title":["Google","Cloud","Storage","Project#project"],"description":"<p>The Storage project connected to.</p>","source":"google-cloud-storage/lib/google/cloud/storage/project.rb#L75","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new(\n  project: \"my-todo-project\",\n  keyfile: \"/path/to/keyfile.json\"\n)\n\nstorage.project #=> \"my-todo-project\""}],"params":[],"exceptions":[],"returns":[]},{"id":"buckets-instance","type":"instance","name":"buckets","title":["Google","Cloud","Storage","Project#buckets"],"description":"<p>Retrieves a list of buckets for the given project.</p>","source":"google-cloud-storage/lib/google/cloud/storage/project.rb#L130","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbuckets = storage.buckets\nbuckets.each do |bucket|\n  puts bucket.name\nend"},{"caption":"<p>Retrieve buckets with names that begin with a given prefix:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nuser_buckets = storage.buckets prefix: \"user-\"\nuser_buckets.each do |bucket|\n  puts bucket.name\nend"},{"caption":"<p>Retrieve all buckets: (See <a data-custom-type=\"google/cloud/storage/bucket/list\" data-method=\"all-instance\">Bucket::List#all</a>)</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbuckets = storage.buckets\nbuckets.all do |bucket|\n  puts bucket.name\nend"}],"params":[{"name":"prefix","types":["String"],"description":"Filter results to buckets whose names begin\nwith this prefix.","optional":true,"default":"nil","nullable":true},{"name":"token","types":["String"],"description":"A previously-returned page token representing\npart of the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of buckets to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/storage/bucket\">Google::Cloud::Storage::Bucket</a>&gt;"],"description":"(See\n<a data-custom-type=\"google/cloud/storage/bucket/list\">Google::Cloud::Storage::Bucket::List</a>)"}]},{"id":"bucket-instance","type":"instance","name":"bucket","title":["Google","Cloud","Storage","Project#bucket"],"description":"<p>Retrieves bucket by name.</p>","source":"google-cloud-storage/lib/google/cloud/storage/project.rb#L183","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\nputs bucket.name"},{"caption":"<p>With <code>user_project</code> set to pay for a requester pays bucket:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"other-project-bucket\", user_project: true\nfiles = bucket.files # Billed to current project"},{"caption":"<p>With <code>user_project</code> set to a project other than the default:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"other-project-bucket\",\n                        user_project: \"my-other-project\"\nfiles = bucket.files # Billed to \"my-other-project\""}],"params":[{"name":"bucket_name","types":["String"],"description":"Name of a bucket.","optional":false,"nullable":false},{"name":"user_project","types":["Boolean","String"],"description":"If the <code>requester_pays</code> flag is\nenabled for the requested bucket, and if this parameter is set to\n<code>true</code>, transit costs for operations on the requested bucket or a\nfile it contains will be billed to the current project for this\nclient. (See <a data-custom-type=\"google/cloud/storage/project\" data-method=\"project-instance\">#project</a> for the ID of the current project.) If this\nparameter is set to a project ID other than the current project, and\nthat project is authorized for the currently authenticated service\naccount, transit costs will be billed to the given project. The\ndefault is <code>nil</code>.</p>\n\n<p>The requester pays feature is currently available only to\nwhitelisted projects.</p>\n\n<p>See also <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"requester_pays=-instance\">Bucket#requester_pays=</a> and <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"requester_pays-instance\">Bucket#requester_pays</a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/storage/bucket\">Google::Cloud::Storage::Bucket</a>","nil"],"description":"Returns nil if bucket\ndoes not exist"}]},{"id":"create_bucket-instance","type":"instance","name":"create_bucket","title":["Google","Cloud","Storage","Project#create_bucket"],"description":"<p>Creates a new bucket with optional attributes. Also accepts a block\nfor defining the CORS configuration for a static website served from\nthe bucket. See <a data-custom-type=\"google/cloud/storage/bucket/cors\">Bucket::Cors</a> for details.</p>\n\n<p>The API call to create the bucket may be retried under certain\nconditions. See Google::Cloud#storage to control this behavior.</p>\n\n<p>You can pass <a href=\"https://cloud.google.com/storage/docs/website-configuration\">website\nsettings</a>\nfor the bucket, including a block that defines CORS rule. See\n<a data-custom-type=\"google/cloud/storage/bucket/cors\">Bucket::Cors</a> for details.</p>","source":"google-cloud-storage/lib/google/cloud/storage/project.rb#L310","resources":[{"title":"Cross-Origin\nResource Sharing (CORS)","link":"https://cloud.google.com/storage/docs/cross-origin"},{"title":"How\nto Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration"}],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.create_bucket \"my-bucket\""},{"caption":"<p>Configure the bucket in a block:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.create_bucket \"my-bucket\" do |b|\n  b.website_main = \"index.html\"\n  b.website_404 = \"not_found.html\"\n  b.requester_pays = true\n  b.cors.add_rule [\"http://example.org\", \"https://example.org\"],\n                   \"*\",\n                   headers: [\"X-My-Custom-Header\"],\n                   max_age: 300\nend"}],"params":[{"name":"bucket_name","types":["String"],"description":"Name of a bucket.","optional":false,"nullable":false},{"name":"acl","types":["String"],"description":"Apply a predefined set of access controls to this\nbucket.</p>\n\n<p>Acceptable values are:</p>\n\n<ul>\n  <li><code>auth</code>, <code>auth_read</code>, <code>authenticated</code>, <code>authenticated_read</code>,\n<code>authenticatedRead</code> - Project team owners get OWNER access, and\nallAuthenticatedUsers get READER access.</li>\n  <li><code>private</code> - Project team owners get OWNER access.</li>\n  <li><code>project_private</code>, <code>projectPrivate</code> - Project team members get\naccess according to their roles.</li>\n  <li><code>public</code>, <code>public_read</code>, <code>publicRead</code> - Project team owners get\nOWNER access, and allUsers get READER access.</li>\n  <li><code>public_write</code>, <code>publicReadWrite</code> - Project team owners get OWNER\naccess, and allUsers get WRITER access.</li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"default_acl","types":["String"],"description":"Apply a predefined set of default object\naccess controls to this bucket.</p>\n\n<p>Acceptable values are:</p>\n\n<ul>\n  <li><code>auth</code>, <code>auth_read</code>, <code>authenticated</code>, <code>authenticated_read</code>,\n<code>authenticatedRead</code> - File owner gets OWNER access, and\nallAuthenticatedUsers get READER access.</li>\n  <li><code>owner_full</code>, <code>bucketOwnerFullControl</code> - File owner gets OWNER\naccess, and project team owners get OWNER access.</li>\n  <li><code>owner_read</code>, <code>bucketOwnerRead</code> - File owner gets OWNER access,\nand project team owners get READER access.</li>\n  <li><code>private</code> - File owner gets OWNER access.</li>\n  <li><code>project_private</code>, <code>projectPrivate</code> - File owner gets OWNER\naccess, and project team members get access according to their\nroles.</li>\n  <li><code>public</code>, <code>public_read</code>, <code>publicRead</code> - File owner gets OWNER\naccess, and allUsers get READER access.</li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"location","types":["String"],"description":"The location of the bucket. Object data for\nobjects in the bucket resides in physical storage within this\nregion. Possible values include <code>ASIA</code>, <code>EU</code>, and <code>US</code>. (See the\n<a href=\"https://cloud.google.com/storage/docs/bucket-locations\">developer’s\nguide</a> for\nthe authoritative list. The default value is <code>US</code>.","optional":true,"default":"nil","nullable":true},{"name":"logging_bucket","types":["String"],"description":"The destination bucket for the bucket’s\nlogs. For more information, see <a href=\"https://cloud.google.com/storage/docs/access-logs\">Access\nLogs</a>.","optional":true,"default":"nil","nullable":true},{"name":"logging_prefix","types":["String"],"description":"The prefix used to create log object\nnames for the bucket. It can be at most 900 characters and must be a\n<a href=\"https://cloud.google.com/storage/docs/bucket-naming#objectnames\">valid object\nname</a>\n. By default, the object prefix is the name of the bucket for which\nthe logs are enabled. For more information, see <a href=\"https://cloud.google.com/storage/docs/access-logs\">Access\nLogs</a>.","optional":true,"default":"nil","nullable":true},{"name":"storage_class","types":["Symbol","String"],"description":"Defines how objects in the\nbucket are stored and determines the SLA and the cost of storage.\nValues include <code>:multi_regional</code>, <code>:regional</code>, <code>:nearline</code>,\n<code>:coldline</code>, <code>:standard</code>, and <code>:dra</code> (Durable Reduced\nAvailability), as well as the strings returned by\n<a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"storage_class-instance\">Bucket#storage_class</a>. For more information, see <a href=\"https://cloud.google.com/storage/docs/storage-classes\">Storage\nClasses</a>. The\ndefault value is <code>:standard</code>, which is equivalent to\n<code>:multi_regional</code> or <code>:regional</code> depending on the bucket’s location\nsettings.","optional":true,"default":"nil","nullable":true},{"name":"versioning","types":["Boolean"],"description":"Whether <a href=\"https://cloud.google.com/storage/docs/object-versioning\">Object\nVersioning</a>\nis to be enabled for the bucket. The default value is <code>false</code>.","optional":true,"default":"nil","nullable":true},{"name":"website_main","types":["String"],"description":"The index page returned from a static\nwebsite served from the bucket when a site visitor requests the top\nlevel directory. For more information, see <a href=\"https://cloud.google.com/storage/docs/website-configuration#step4\">How to Host a Static\nWebsite\n</a>.","optional":true,"default":"nil","nullable":true},{"name":"website_404","types":["String"],"description":"The page returned from a static website\nserved from the bucket when a site visitor requests a resource that\ndoes not exist. For more information, see <a href=\"https://cloud.google.com/storage/docs/website-configuration#step4\">How to Host a Static\nWebsite\n</a>.","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"a block for configuring the bucket before it is\ncreated","optional":true,"nullable":false},{"name":"yield.cors","types":["Bucket"],"description":"the bucket object to be configured","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/storage/bucket\">Google::Cloud::Storage::Bucket</a>"],"description":""}]},{"id":"signed_url-instance","type":"instance","name":"signed_url","title":["Google","Cloud","Storage","Project#signed_url"],"description":"<p>Access without authentication can be granted to a File for a specified\nperiod of time. This URL uses a cryptographic signature of your\ncredentials to access the file identified by <code>path</code>. A URL can be\ncreated for paths that do not yet exist. For instance, a URL can be\ncreated to <code>PUT</code> file contents to.</p>\n\n<p>Generating a URL requires service account credentials, either by\nconnecting with a service account when calling\nGoogle::Cloud.storage, or by passing in the service account <code>issuer</code>\nand <code>signing_key</code> values. Although the private key can be passed as a\nstring for convenience, creating and storing an instance of\n<code>OpenSSL::PKey::RSA</code> is more efficient when making multiple calls to\n<code>signed_url</code>.</p>\n\n<p>A <a data-custom-type=\"google/cloud/storage/signedurlunavailable\">SignedUrlUnavailable</a> is raised if the service account credentials\nare missing. Service account credentials are acquired by following the\nsteps in <a href=\"https://cloud.google.com/storage/docs/authentication#service_accounts\">Service Account Authentication</a>.</p>","source":"google-cloud-storage/lib/google/cloud/storage/project.rb#L434","resources":[{"title":"Access Control Signed URLs guide","link":"https://cloud.google.com/storage/docs/access-control#Signed-URLs"}],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket_name = \"my-todo-app\"\nfile_path = \"avatars/heidi/400x400.png\"\nshared_url = storage.signed_url bucket_name, file_path"},{"caption":"<p>Any of the option parameters may be specified:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket_name = \"my-todo-app\"\nfile_path = \"avatars/heidi/400x400.png\"\nshared_url = storage.signed_url bucket_name, file_path,\n                                method: \"PUT\",\n                                content_type: \"image/png\",\n                                expires: 300 # 5 minutes from now"},{"caption":"<p>Using the issuer and signing_key options:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud.storage\n\nbucket_name = \"my-todo-app\"\nfile_path = \"avatars/heidi/400x400.png\"\nissuer_email = \"service-account@gcloud.com\"\nkey = OpenSSL::PKey::RSA.new \"-----BEGIN PRIVATE KEY-----\\n...\"\nshared_url = storage.signed_url bucket_name, file_path,\n                                issuer: issuer_email,\n                                signing_key: key"},{"caption":"<p>Using the headers option:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud.storage\n\nbucket_name = \"my-todo-app\"\nfile_path = \"avatars/heidi/400x400.png\"\nshared_url = storage.signed_url bucket_name, file_path,\n                                headers: {\n                                  \"x-goog-acl\" => \"private\",\n                                  \"x-goog-meta-foo\" => \"bar,baz\"\n                                }"}],"params":[{"name":"bucket","types":["String"],"description":"Name of the bucket.","optional":false,"nullable":false},{"name":"path","types":["String"],"description":"Path to the file in Google Cloud Storage.","optional":false,"nullable":false},{"name":"method","types":["String"],"description":"The HTTP verb to be used with the signed URL.\nSigned URLs can be used\nwith <code>GET</code>, <code>HEAD</code>, <code>PUT</code>, and <code>DELETE</code> requests. Default is <code>GET</code>.","optional":true,"default":"nil","nullable":true},{"name":"expires","types":["Integer"],"description":"The number of seconds until the URL expires.\nDefault is 300/5 minutes.","optional":true,"default":"nil","nullable":true},{"name":"content_type","types":["String"],"description":"When provided, the client (browser) must\nsend this value in the HTTP header. e.g. <code>text/plain</code>","optional":true,"default":"nil","nullable":true},{"name":"content_md5","types":["String"],"description":"The MD5 digest value in base64. If you\nprovide this in the string, the client (usually a browser) must\nprovide this HTTP header with this same value in its request.","optional":true,"default":"nil","nullable":true},{"name":"headers","types":["Hash"],"description":"Google extension headers (custom HTTP headers\nthat begin with <code>x-goog-</code>) that must be included in requests that\nuse the signed URL.","optional":true,"default":"nil","nullable":true},{"name":"issuer","types":["String"],"description":"Service Account’s Client Email.","optional":true,"default":"nil","nullable":true},{"name":"client_email","types":["String"],"description":"Service Account’s Client Email.","optional":true,"default":"nil","nullable":true},{"name":"signing_key","types":["OpenSSL::PKey::RSA","String"],"description":"Service Account’s\nPrivate Key.","optional":true,"default":"nil","nullable":true},{"name":"private_key","types":["OpenSSL::PKey::RSA","String"],"description":"Service Account’s\nPrivate Key.","optional":true,"default":"nil","nullable":true},{"name":"query","types":["Hash"],"description":"Query string parameters to include in the signed\nURL. The given parameters are not verified by the signature.</p>\n\n<p>Parameters such as <code>response-content-disposition</code> and\n<code>response-content-type</code> can alter the behavior of the response when\nusing the URL, but only when the file resource is missing the\ncorresponding values. (These values can be permanently set using\n<a data-custom-type=\"google/cloud/storage/file\" data-method=\"content_disposition=-instance\">File#content_disposition=</a> and <a data-custom-type=\"google/cloud/storage/file\" data-method=\"content_type=-instance\">File#content_type=</a>.)","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]}]}