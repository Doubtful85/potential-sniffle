{"id":"google/cloud/bigtable/appprofile","name":"AppProfile","title":["Google","Cloud","Bigtable","AppProfile"],"description":"<h1 id=\"appprofile\">AppProfile</h1>\n\n<p>A configuration object describing how Cloud Bigtable should treat traffic\nfrom a particular end user application.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L47","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\napp_profile = bigtable.app_profile(\"my-instance\", \"my-app-profile\")\n\n# Update\napp_profile.description = \"User data instance app profile\"\napp_profile.routing_policy = Google::Cloud::Bigtable::AppProfile.multi_cluster_routing\njob = app_profile.save\njob.wait_until_done!\n\n# Delete\napp_profile.delete"}],"methods":[{"id":"project_id-instance","type":"instance","name":"project_id","title":["Google","Cloud","Bigtable","AppProfile#project_id"],"description":"<p>The unique identifier for the project.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L64","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"instance_id-instance","type":"instance","name":"instance_id","title":["Google","Cloud","Bigtable","AppProfile#instance_id"],"description":"<p>The unique identifier for the instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L71","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"name-instance","type":"instance","name":"name","title":["Google","Cloud","Bigtable","AppProfile#name"],"description":"<p>The unique identifier for the app profile.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L78","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"path-instance","type":"instance","name":"path","title":["Google","Cloud","Bigtable","AppProfile#path"],"description":"<p>The full path for the instance resource. Values are of the form\n<code>projects/&lt;project_id&gt;/instances/&lt;instance_id&gt;</code>.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L86","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"etag-instance","type":"instance","name":"etag","title":["Google","Cloud","Bigtable","AppProfile#etag"],"description":"<p>Etag for optimistic concurrency control.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L93","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"description-instance","type":"instance","name":"description","title":["Google","Cloud","Bigtable","AppProfile#description"],"description":"<p>Description of the AppProfile.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L100","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"description=-instance","type":"instance","name":"description=","title":["Google","Cloud","Bigtable","AppProfile#description="],"description":"<p>Set description of the AppProfile.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L107","resources":[],"examples":[],"params":[{"name":"text","types":["String"],"description":"Description text","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"multi_cluster_routing-instance","type":"instance","name":"multi_cluster_routing","title":["Google","Cloud","Bigtable","AppProfile#multi_cluster_routing"],"description":"<p>Get value of multi-cluster routing policy.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L115","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/bigtable/admin/v2/appprofile/multiclusterroutinguseany\">Google::Bigtable::Admin::V2::AppProfile::MultiClusterRoutingUseAny</a>"],"description":""}]},{"id":"single_cluster_routing-instance","type":"instance","name":"single_cluster_routing","title":["Google","Cloud","Bigtable","AppProfile#single_cluster_routing"],"description":"<p>Get value of single cluster routing policy</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L122","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/bigtable/admin/v2/appprofile/singleclusterrouting\">Google::Bigtable::Admin::V2::AppProfile::SingleClusterRouting</a>"],"description":""}]},{"id":"routing_policy=-instance","type":"instance","name":"routing_policy=","title":["Google","Cloud","Bigtable","AppProfile#routing_policy="],"description":"<p>Set routing policy</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L165","resources":[],"examples":[{"caption":"<p>Set multi cluster routing policy</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\ninstance = bigtable.instance(\"my-instance\")\napp_profile = instance.app_profile(\"my-app-profile\")\n\nrouting_policy = Google::Cloud::Bigtable::AppProfile.multi_cluster_routing\napp_profile.routing_policy = routing_policy"},{"caption":"<p>Set single cluster routing policy</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\ninstance = bigtable.instance(\"my-instance\")\napp_profile = instance.app_profile(\"my-app-profile\")\n\nrouting_policy = Google::Cloud::Bigtable::AppProfile.single_cluster_routing(\n  \"my-instance-cluster-1\"\n  allow_transactional_writes: true\n)\napp_profile.routing_policy = routing_policy"}],"params":[{"name":"policy","types":["Google::Bigtable::Admin::V2::AppProfile::SingleClusterRouting | Google::Bigtable::Admin::V2::AppProfile::MultiClusterRoutingUseAny"],"description":"The routing policy for all read/write requests which use this app profile.\nA value must be explicitly set.</p>\n\n<p>Routing Policies:</p>\n<ul>\n  <li><code>multi_cluster_routing</code> - Read/write requests may be routed to any\ncluster in the instance, and will fail over to another cluster in the event\nof transient errors or delays. Choosing this option sacrifices\nread-your-writes consistency to improve availability.</li>\n  <li><code>single_cluster_routing</code> - Unconditionally routes all read/write requests\nto a specific cluster. This option preserves read-your-writes consistency,\nbut does not improve availability.\nValue contain <code>cluster_id</code> and optional field <code>allow_transactional_writes</code>.</li>\n</ul>","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"routing_policy-instance","type":"instance","name":"routing_policy","title":["Google","Cloud","Bigtable","AppProfile#routing_policy"],"description":"<p>Get routing policy</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L180","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/bigtable/admin/v2/appprofile/singleclusterrouting\">Google::Bigtable::Admin::V2::AppProfile::SingleClusterRouting</a>","<a data-custom-type=\"google/bigtable/admin/v2/appprofile/multiclusterroutinguseany\">Google::Bigtable::Admin::V2::AppProfile::MultiClusterRoutingUseAny</a>"],"description":""}]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Bigtable","AppProfile#delete"],"description":"<p>Delete app profile.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L204","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\napp_profile = bigtable.instance(\"my-app-profile\")\n\napp_profile.delete(ignore_warnings: true) # Ignore warnings.\n\n# OR : Not ignoring warnings\napp_profile.delete"}],"params":[{"name":"ignore_warnings","types":["Boolean"],"description":"Default value is false. If true, ignore safety checks when deleting\nthe app profile.","optional":true,"default":"false","nullable":false}],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the app profile was deleted."}]},{"id":"save-instance","type":"instance","name":"save","title":["Google","Cloud","Bigtable","AppProfile#save"],"description":"<p>Update app profile.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L277","resources":[],"examples":[{"caption":"<p>Update</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\napp_profile = bigtable.app_profile(\"my-app-profile\")\n\napp_profile.description = \"User data instance app profile\"\napp_profile.routing_policy = \\\n  Google::Cloud::Bigtable::AppProfile.multi_cluster_routing\n\njob = app_profile.save\njob.wait_until_done!\nif job.error?\n  puts job.error\nelse\n  puts \"App profile successfully update.\"\n  app_profile = job.app_profile\nend\n\n# OR - Update with ignoring warnings.\njob = app_profile.save(ignore_warnings: true)\njob.wait_until_done!"},{"caption":"<p>Update with single cluster routing</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\napp_profile = bigtable.instance(\"my-app-profile\")\n\napp_profile.description = \"User data instance app profile\"\nrouting_policy = Google::Cloud::Bigtable::AppProfile.single_cluster_routing(\n  \"my-cluster\",\n  allow_transactional_writes: true\n)\napp_profile.routing_policy = routing_policy\n\njob = app_profile.save\n\njob.done? #=> false\njob.reload!\njob.done? #=> false\n\n# Reload job until completion.\njob.wait_until_done!\njob.done? #=> true\n\nif job.error?\n  puts job.error\nelse\n  app_profile = job.app_profile\n  puts app_profile.name\nend"}],"params":[{"name":"ignore_warnings","types":["Boolean"],"description":"Default value is false. If true, ignore safety checks when updating\nthe app profile.","optional":true,"default":"false","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/appprofile/job\">Google::Cloud::Bigtable::AppProfile::Job</a>"],"description":""}]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Bigtable","AppProfile#reload!"],"description":"<p>Reload app profile information.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L296","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/appprofile\">Google::Cloud::Bigtable::AppProfile</a>"],"description":""}]},{"id":"multi_cluster_routing-class","type":"class","name":"multi_cluster_routing","title":["Google","Cloud","Bigtable","AppProfile.multi_cluster_routing"],"description":"<p>Create instance of multi cluster routing policy.</p>\n\n<p>Read/write requests may be routed to any cluster in the instance, and will\nFail over to another cluster in the event of transient errors or delays.\nChoosing this option sacrifices read-your-writes consistency to improve\navailability</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L313","resources":[],"examples":[{"caption":"<p>Create instance of multi cluster routing</p>","code":"\nGoogle::Cloud::Bigtable::AppProfile.multi_cluster_routing"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/bigtable/admin/v2/appprofile/multiclusterroutinguseany\">Google::Bigtable::Admin::V2::AppProfile::MultiClusterRoutingUseAny</a>"],"description":""}]},{"id":"single_cluster_routing-class","type":"class","name":"single_cluster_routing","title":["Google","Cloud","Bigtable","AppProfile.single_cluster_routing"],"description":"<p>Create instance of single cluster routing</p>\n\n<p>Unconditionally routes all read/write requests to a specific cluster.\nThis option preserves read-your-writes consistency, but does not improve\navailability.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/app_profile.rb#L342","resources":[],"examples":[{"caption":"<p>Create instance of single cluster routing</p>","code":"\nGoogle::Cloud::Bigtable::AppProfile.single_cluster_routing(\"my-cluster\")\n\n# With allowed transactional writes\nGoogle::Cloud::Bigtable::AppProfile.single_cluster_routing(\n  \"my-cluster\",\n  allow_transactional_writes: true\n)"}],"params":[{"name":"cluster_id","types":["String"],"description":"The cluster to which read/write requests should be routed.","optional":false,"nullable":false},{"name":"allow_transactional_writes","types":["Boolean"],"description":"Whether or not <code>CheckAndMutateRow</code> and <code>ReadModifyWriteRow</code> requests are\nallowed by this app profile. It is unsafe to send these requests to\nthe same table/row/column in multiple clusters.\n Default value is false.","optional":true,"default":"false","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/bigtable/admin/v2/appprofile/singleclusterrouting\">Google::Bigtable::Admin::V2::AppProfile::SingleClusterRouting</a>"],"description":""}]}]}