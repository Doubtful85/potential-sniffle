{"id":"google/cloud/translate","name":"Translate","title":["Google","Cloud","Translate"],"description":"<h1 id=\"google-cloud-translation-api\">Google Cloud Translation API</h1>\n\n<p><a href=\"https://cloud.google.com/translation/\">Google Cloud Translation API</a>\nprovides a simple, programmatic interface for translating an arbitrary\nstring into any supported language. It is highly responsive, so websites\nand applications can integrate with Translation API for fast, dynamic\ntranslation of source text. Language detection is also available in cases\nwhere the source language is unknown.</p>\n\n<p>Translation API supports more than one hundred different languages, from\nAfrikaans to Zulu. Used in combination, this enables translation between\nthousands of language pairs. Also, you can send in HTML and receive HTML\nwith translated text back. You donâ€™t need to extract your source text or\nreassemble the translated content.</p>\n\n<h2 id=\"authenticating\">Authenticating</h2>\n\n<p>Like other Cloud Platform services, Google Cloud Translation API supports\nauthentication using a project ID and OAuth 2.0 credentials. In addition,\nit supports authentication using a public API access key. (If both the API\nkey and the project and OAuth 2.0 credentials are provided, the API key\nwill be used.) Instructions and configuration options are covered in the\n<a href=\"https://googlecloudplatform.github.io/google-cloud-ruby/#/docs/google-cloud-translate/guides/authentication\">Authentication Guide</a>.</p>\n\n<h2 id=\"enabling-logging\">Enabling Logging</h2>\n\n<p>To enable logging for this library, set the logger for the underlying\n<a href=\"https://github.com/grpc/grpc/tree/master/src/ruby\">gRPC</a> library. The\nlogger that you set may be a Ruby stdlib\n<a href=\"https://ruby-doc.org/stdlib-2.5.0/libdoc/logger/rdoc/Logger.html\"><code>Logger</code></a>\nas shown below, or a\n<a href=\"https://googlecloudplatform.github.io/google-cloud-ruby/#/docs/google-cloud-logging/latest/google/cloud/logging/logger\"><code>Google::Cloud::Logging::Logger</code></a>\nthat will write logs to <a href=\"https://cloud.google.com/logging/\">Stackdriver\nLogging</a>. See\n<a href=\"https://github.com/grpc/grpc/blob/master/src/ruby/lib/grpc/logconfig.rb\">grpc/logconfig.rb</a>\nand the gRPC\n<a href=\"https://github.com/grpc/grpc/blob/master/src/ruby/spec/spec_helper.rb\">spec_helper.rb</a>\nfor additional information.</p>\n\n<p>Configuring a Ruby stdlib logger:</p>\n\n<pre><code class=\"language-ruby\">require \"logger\"\n\nmodule MyLogger\n  LOGGER = Logger.new $stderr, level: Logger::WARN\n  def logger\n    LOGGER\n  end\nend\n\n# Define a gRPC module-level logger method before grpc/logconfig.rb loads.\nmodule GRPC\n  extend MyLogger\nend\n</code></pre>\n\n<h2 id=\"translating-texts\">Translating texts</h2>\n\n<p>Translating text from one language to another is easy (and extremely\nfast.) The only required arguments to\nGoogle::Cloud::Translate::Api#translate are a string and the <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\">ISO\n639-1</a> code of the\nlanguage to which you wish to translate.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\ntranslation = translate.translate \"Hello world!\", to: \"la\"\n\nputs translation #=&gt; Salve mundi!\n\ntranslation.from #=&gt; \"en\"\ntranslation.origin #=&gt; \"Hello world!\"\ntranslation.to #=&gt; \"la\"\ntranslation.text #=&gt; \"Salve mundi!\"\n</code></pre>\n\n<p>You may want to use the <code>from</code> option to specify the language of the\nsource text, as the following example illustrates. (Single words do not\ngive Translation API much to work with.)</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\ntranslation = translate.translate \"chat\", to: \"en\"\n\ntranslation.detected? #=&gt; true\ntranslation.from #=&gt; \"en\"\ntranslation.text #=&gt; \"chat\"\n\ntranslation = translate.translate \"chat\", from: \"fr\", to: \"en\"\n\ntranslation.detected? #=&gt; false\ntranslation.from #=&gt; \"fr\"\ntranslation.text #=&gt; \"cat\"\n</code></pre>\n\n<p>You can pass multiple texts to Google::Cloud::Translate::Api#translate.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\ntranslations = translate.translate \"chien\", \"chat\", from: \"fr\", to: \"en\"\n\ntranslations.size #=&gt; 2\ntranslations[0].origin #=&gt; \"chien\"\ntranslations[0].text #=&gt; \"dog\"\ntranslations[1].origin #=&gt; \"chat\"\ntranslations[1].text #=&gt; \"cat\"\n</code></pre>\n\n<p>By default, any HTML in your source text will be preserved.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\ntranslation = translate.translate \"&lt;strong&gt;Hello&lt;/strong&gt; world!\",\n                                  to: :la\ntranslation.text #=&gt; \"&lt;strong&gt;Salve&lt;/strong&gt; mundi!\"\n</code></pre>\n\n<h2 id=\"detecting-languages\">Detecting languages</h2>\n\n<p>You can use Google::Cloud::Translate::Api#detect to see which language\nthe Translation API ranks as the most likely source language for a text.\nThe <code>confidence</code> score is a float value between <code>0</code> and <code>1</code>.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\ndetection = translate.detect \"chat\"\n\ndetection.text #=&gt; \"chat\"\ndetection.language #=&gt; \"en\"\ndetection.confidence #=&gt; 0.59922177\n</code></pre>\n\n<p>You can pass multiple texts to Google::Cloud::Translate::Api#detect.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\ndetections = translate.detect \"chien\", \"chat\"\n\ndetections.size #=&gt; 2\ndetections[0].text #=&gt; \"chien\"\ndetections[0].language #=&gt; \"fr\"\ndetections[0].confidence #=&gt; 0.7109375\ndetections[1].text #=&gt; \"chat\"\ndetections[1].language #=&gt; \"en\"\ndetections[1].confidence #=&gt; 0.59922177\n</code></pre>\n\n<h2 id=\"listing-supported-languages\">Listing supported languages</h2>\n\n<p>Translation API adds new languages frequently. You can use\nGoogle::Cloud::Translate::Api#languages to query the list of supported\nlanguages.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\nlanguages = translate.languages\n\nlanguages.size #=&gt; 104\nlanguages[0].code #=&gt; \"af\"\nlanguages[0].name #=&gt; nil\n</code></pre>\n\n<p>To receive the names of the supported languages, as well as their <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\">ISO\n639-1</a> codes,\nprovide the code for the language in which you wish to receive the names.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new\n\nlanguages = translate.languages \"en\"\n\nlanguages.size #=&gt; 104\nlanguages[0].code #=&gt; \"af\"\nlanguages[0].name #=&gt; \"Afrikaans\"\n</code></pre>\n\n<h2 id=\"configuring-retries-and-timeout\">Configuring retries and timeout</h2>\n\n<p>You can configure how many times API requests may be automatically\nretried. When an API request fails, the response will be inspected to see\nif the request meets criteria indicating that it may succeed on retry,\nsuch as <code>500</code> and <code>503</code> status codes or a specific internal error code\nsuch as <code>rateLimitExceeded</code>. If it meets the criteria, the request will be\nretried after a delay. If another error occurs, the delay will be\nincreased before a subsequent attempt, until the <code>retries</code> limit is\nreached.</p>\n\n<p>You can also set the request <code>timeout</code> value in seconds.</p>\n\n<pre><code class=\"language-ruby\">require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new retries: 10, timeout: 120\n</code></pre>","source":"google-cloud-translate/lib/google/cloud/translate.rb#L243","resources":[],"examples":[],"methods":[{"id":"new-class","type":"class","name":"new","title":["Google","Cloud","Translate.new"],"description":"<p>Creates a new object for connecting to Cloud Translation API. Each call\ncreates a new connection.</p>\n\n<p>Like other Cloud Platform services, Google Cloud Translation API\nsupports authentication using a project ID and OAuth 2.0 credentials. In\naddition, it supports authentication using a public API access key. (If\nboth the API key and the project and OAuth 2.0 credentials are provided,\nthe API key will be used.) Instructions and configuration options are\ncovered in the <a href=\"https://googlecloudplatform.github.io/google-cloud-ruby/#/docs/google-cloud-translate/guides/authentication\">Authentication\nGuide</a>.</p>","source":"google-cloud-translate/lib/google/cloud/translate.rb#L311","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new(\n  project_id: \"my-todo-project\",\n  credentials: \"/path/to/keyfile.json\"\n)\n\ntranslation = translate.translate \"Hello world!\", to: \"la\"\ntranslation.text #=> \"Salve mundi!\""},{"caption":"<p>Using API Key.</p>","code":"require \"google/cloud/translate\"\n\ntranslate = Google::Cloud::Translate.new(\n  key: \"api-key-abc123XYZ789\"\n)\n\ntranslation = translate.translate \"Hello world!\", to: \"la\"\ntranslation.text #=> \"Salve mundi!\""},{"caption":"<p>Using API Key from the environment variable.</p>","code":"require \"google/cloud/translate\"\n\nENV[\"TRANSLATE_KEY\"] = \"api-key-abc123XYZ789\"\n\ntranslate = Google::Cloud::Translate.new\n\ntranslation = translate.translate \"Hello world!\", to: \"la\"\ntranslation.text #=> \"Salve mundi!\""}],"params":[{"name":"project_id","types":["String"],"description":"Project identifier for the Cloud Translation\nservice you are connecting to. If not present, the default project for\nthe credentials is used.","optional":true,"default":"nil","nullable":true},{"name":"credentials","types":["String","Hash","Google::Auth::Credentials"],"description":"The path to\nthe keyfile as a String, the contents of the keyfile as a Hash, or a\nGoogle::Auth::Credentials object. (See <a data-custom-type=\"google/cloud/translate/credentials\">Translate::Credentials</a>)","optional":true,"default":"nil","nullable":true},{"name":"key","types":["String"],"description":"a public API access key (not an OAuth 2.0 token)","optional":true,"default":"nil","nullable":true},{"name":"scope","types":["String","Array<String>"],"description":"The OAuth 2.0 scopes controlling\nthe set of resources and operations that the connection can access.\nSee <a href=\"https://developers.google.com/identity/protocols/OAuth2\">Using OAuth 2.0 to Access Google\nAPIs</a>.</p>\n\n<p>The default scope is:</p>\n\n<ul>\n  <li><code>https://www.googleapis.com/auth/cloud-platform</code></li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"retries","types":["Integer"],"description":"Number of times to retry requests on server\nerror. The default value is <code>3</code>. Optional.","optional":true,"default":"nil","nullable":true},{"name":"timeout","types":["Integer"],"description":"Default timeout to use in requests. Optional.","optional":true,"default":"nil","nullable":true},{"name":"project","types":["String"],"description":"Alias for the <code>project_id</code> argument. Deprecated.","optional":true,"default":"nil","nullable":true},{"name":"keyfile","types":["String"],"description":"Alias for the <code>credentials</code> argument.\nDeprecated.","optional":true,"default":"nil","nullable":true}],"exceptions":[{"type":"ArgumentError","description":""}],"returns":[{"types":["<a data-custom-type=\"google/cloud/translate/api\">Google::Cloud::Translate::Api</a>"],"description":""}]},{"id":"configure-class","type":"class","name":"configure","title":["Google","Cloud","Translate.configure"],"description":"<p>Configure the Google Cloud Translate library.</p>\n\n<p>The following Translate configuration parameters are supported:</p>\n\n<ul>\n  <li><code>project_id</code> - (String) Identifier for a Translate project. (The\nparameter <code>project</code> is considered deprecated, but may also be used.)</li>\n  <li><code>credentials</code> - (String, Hash, Google::Auth::Credentials) The path to\nthe keyfile as a String, the contents of the keyfile as a Hash, or a\nGoogle::Auth::Credentials object. (See <a data-custom-type=\"google/cloud/translate/credentials\">Translate::Credentials</a>) (The\nparameter <code>keyfile</code> is considered deprecated, but may also be used.)</li>\n  <li><code>scope</code> - (String, Array<String>) The OAuth 2.0 scopes controlling\nthe set of resources and operations that the connection can access.</String></li>\n  <li><code>retries</code> - (Integer) Number of times to retry requests on server\nerror.</li>\n  <li><code>timeout</code> - (Integer) Default timeout to use in requests.</li>\n</ul>","source":"google-cloud-translate/lib/google/cloud/translate.rb#L362","resources":[],"examples":[],"params":[{"name":"yield","types":["block"],"description":"","optional":true,"nullable":false}],"exceptions":[],"returns":[{"types":["Google::Cloud::Config"],"description":"The configuration object the\nGoogle::Cloud::Translate library uses."}]}]}